!function(t){"object"==typeof module&&void 0!==module.exports?module.exports=t:t(FusionCharts)}(function(L){L.register("module",["private","modules.renderer.js-gantt",function(){var w,k,_=this,J=_.hcLib,t=_.window,e=/msie/i.test(t.navigator.userAgent)&&!t.opera,h=J.chartAPI,p=J.extend2,N=J.pluck,Y=J.pluckNumber,n=J.pluckFontSize,j=J.getFirstColor,o=J.parseConfiguration,a=J.setAttribDefs,v=J.graphics,G=v.convertColor,R=v.getDarkColor,X=J.parseUnsafeString,U=J.getFirstValue,Z=J.getValidValue,g=J.toPrecision,$=J.Raphael,l=J.chartPaletteStr,b=J.componentDispose,q=J.schedular,y=J.COMMASTRING,K=J.setLineHeight,f=J.getDashStyle,Q=J.toRaphaelColor,c=J.each,i=J.attrTypeNum,r=J.attrTypeBool,d=J.dropHash,m=J.HASHSTRING,tt=(t=!J.CREDIT_REGEX.test(t.location.hostname),"rgba(192,192,192,"+(e?.002:1e-6)+")"),C=v.mapSymbolName,et=(e=Math).max,at=e.min,ot=e.abs,it=parseInt,rt=parseFloat,u=J.graphics.getLightColor,A=J.plotEventHandler,x=function(t){return null!=t},st={left:"start",right:"end",center:"middle"},nt={left:0,right:1,center:.5,undefined:.5},lt={left:5,right:-5,center:0,undefined:0},F=function(){},ht=function(){var t=0,e=arguments.length,a=!1;for(t=0;t<e;t++){if(a=arguments[t],isNaN(a))return!1;a=!0}return a},s={fontWeight:["normal","bold"],fontStyle:["normal","italic"]},ct=function(t){var e,a;for(a in t)if(void 0!==t[a])switch(e=e||{},a){case"fontWeight":case"fontStyle":e[a]=s[a][t[a]];break;default:e[a]=t[a]}return e};h("gantt",{defaultDatasetType:"task",applicableDSList:{task:!0,milestone:!0,connectors:!0},fireGroupEvent:!0,aligncaptionwithcanvas:0,hasInteractiveLegend:!1,creditLabel:t,_createDatasets:function(){var t,e,a,o,i,r,s,n,l=this.config,h=this.components,c=this.jsonData,d=[],p=this.defaultDatasetType,g=this.applicableDSList,f=l.datasetMap||(l.datasetMap={task:[],milestone:[],connectors:[]}),m={task:[],milestone:[],connectors:[]},v={};for(c.tasks&&(d=d.concat(c.tasks)),c.milestones&&(d=d.concat(c.milestones)),c.connectors&&(d=d.concat(c.connectors)),t=d&&d.length,!d||d instanceof Array||(d=[d],t=1),t||this.setChartMessage(),this.config.categories=c.categories&&c.categories[0].category,c=h.dataset=[],h=0;h<t;h++)(i=d[h]).task?n=a="task":i.milestone?n=a="milestone":i.connector&&(a="connectors",n="connector"),g[a=a&&a.toLowerCase()]||(a=p),(o=L.get("component",["dataset",a]))&&(void 0===v[a]?v[a]=0:v[a]++,(r=(e=f[a])[0])?(o=(o=r.JSONData)[n].length,s=i[n].length,m[a].push(r),c.push(r),r.index=h,s<o&&r.removeData(s-1,o-s,!1),r.JSONData=i,r.configure(),e.shift()):(e=new o,m[a].push(e),c.push(e),e.chart=this,e.index=h,e.init(i)));for(a in this._createLegendItems(),f)if(t=(d=f[a]).length)for(h=0;h<t;h++)(e=d[h])&&b.call(e);l.datasetMap=m},configure:function(){var t=this.config,e=this.components.background.config,a=this.jsonData.chart;this.__setDefaultConfig(),h.mscartesian.configure.call(this),t.showBorder=Y(a.showborder,0),t.borderWidth=t.showBorder?Y(a.borderthickness,1):0,e.borderWidth=t.borderWidth,t.lastVScrollPosition=void 0,t.lastHScrollPosition=void 0},_createLegendItems:function(){var t,e,a,o,i,r,s=this.components,n=this.jsonData,l=s.legend,h=s.legendItems;n=n.legend&&n.legend.item||[];for(t=s.legendItems&&s.legendItems.length||0,(e=n.length)<t&&(l.emptyItems(e,t-e),h&&h.splice(e,t-e)),h||(s.legendItems=h=[]),t=0,s=n.length;t<s;t++)i=n[t],r=h[t],o=i.color,e=u(o,60).replace(d,m),a={FCcolor:{color:o+","+o+","+(a=u(o,40))+","+o+","+o,ratio:"0,70,30",angle:270,alpha:"100,100,100,100,100"}},!r&&(r=h[t]={}),e={fillColor:Q(a),strokeColor:Q(e),label:i.label,interactiveLegend:!1,legendItemId:r.legendItemId},h[t].legendItemId=l.addItems(this,F,e)},_setAxisLimits:function(){},_createAxes:function(){var t=this.components,e=L.get("component",["axis","time"]),a=L.get("component",["axis","process"]);t.yAxis=[],t.xAxis=[],t.yAxis[0]=a=new a,t.xAxis[0]=t=new e,a.chart=this,t.chart=this,a.init(),t.init()},_feedAxesRawData:function(){var t,e=this.components,a=e.colorManager,o=this.jsonData,i=o.chart,r=this.is3d,s=r?l.chart3D:l.chart2D;t={outCanfontFamily:N(i.outcnvbasefont,i.basefont,"Verdana,sans"),outCanfontSize:n(i.outcnvbasefontsize,i.basefontsize,10),outCancolor:N(i.outcnvbasefontcolor,i.basefontcolor,a.getColor(s.baseFontColor)).replace(/^#? ([a-f0-9]+)/gi,"#$1"),axisBreaks:i.xaxisbreaks,axisNamePadding:i.xaxisnamepadding,axisValuePadding:i.labelpadding,axisNameFont:i.xaxisnamefont,axisNameFontSize:i.xaxisnamefontsize,axisNameFontColor:i.xaxisnamefontcolor,axisNameFontBold:i.xaxisnamefontbold,axisNameFontItalic:i.xaxisnamefontitalic,axisNameBgColor:i.xaxisnamebgcolor,axisNameBorderColor:i.xaxisnamebordercolor,axisNameAlpha:i.xaxisnamealpha,axisNameFontAlpha:i.xaxisnamefontalpha,axisNameBgAlpha:i.xaxisnamebgalpha,axisNameBorderAlpha:i.xaxisnameborderalpha,axisNameBorderPadding:i.xaxisnameborderpadding,axisNameBorderRadius:i.xaxisnameborderradius,axisNameBorderThickness:i.xaxisnameborderthickness,axisNameBorderDashed:i.xaxisnameborderdashed,axisNameBorderDashLen:i.xaxisnameborderdashlen,axisNameBorderDashGap:i.xaxisnameborderdashgap,useEllipsesWhenOverflow:i.useellipseswhenoverflow,divLineColor:N(i.vdivlinecolor,a.getColor(s.divLineColor)),divLineAlpha:N(i.vdivlinealpha,r?a.getColor("divLineAlpha3D"):a.getColor("divLineAlpha")),divLineThickness:Y(i.vdivlinethickness,1),divLineIsDashed:!!Y(i.vdivlinedashed,i.vdivlineisdashed,0),divLineDashLen:Y(i.vdivlinedashlen,4),divLineDashGap:Y(i.vdivlinedashgap,2),showAlternateGridColor:Y(i.showalternatevgridcolor,0),alternateGridColor:N(i.alternatevgridcolor,a.getColor("altVGridColor")),alternateGridAlpha:N(i.alternatevgridalpha,a.getColor("altVGridAlpha")),numDivLines:Y(i.numvdivlines,this.numVDivLines),labelFont:i.labelfont,labelFontSize:i.labelfontsize,labelFontColor:i.labelfontcolor,labelFontAlpha:i.labelalpha,labelFontBold:i.labelfontbold,labelFontItalic:i.labelfontitalic,maxLabelHeight:i.maxlabelheight,axisName:i.xaxisname,axisMinValue:i.xaxisminvalue,axisMaxValue:i.xaxismaxvalue,setAdaptiveMin:i.setadaptivexmin,adjustDiv:i.adjustvdiv,labelDisplay:i.labeldisplay,showLabels:i.showlabels,rotateLabels:i.rotatelabels,slantLabel:Y(i.slantlabels,i.slantlabel),labelStep:Y(i.labelstep,i.xaxisvaluesstep),showAxisValues:Y(i.showxaxisvalues,i.showxaxisvalue),showLimits:Y(i.showvlimits,this.showvlimits),showDivLineValues:Y(i.showvdivlinevalues,i.showvdivlinevalues),zeroPlaneColor:i.vzeroplanecolor,zeroPlaneThickness:i.vzeroplanethickness||2,zeroPlaneAlpha:i.vzeroplanealpha,showZeroPlaneValue:i.showvzeroplanevalue,trendlineColor:i.trendlinecolor,trendlineToolText:i.trendlinetooltext,trendlineThickness:i.trendlinethickness,trendlineAlpha:i.trendlinealpha,showTrendlinesOnTop:i.showtrendlinesontop,showAxisLine:Y(i.showxaxisline,i.showaxislines,i.drawAxisLines,0),axisLineThickness:Y(i.xaxislinethickness,i.axislinethickness,1),axisLineAlpha:Y(i.xaxislinealpha,i.axislinealpha,100),axisLineColor:N(i.xaxislinecolor,i.axislinecolor,"#000000")},a={outCanfontFamily:N(i.outcnvbasefont,i.basefont,"Verdana,sans"),outCanfontSize:n(i.outcnvbasefontsize,i.basefontsize,10),outCancolor:N(i.outcnvbasefontcolor,i.basefontcolor,a.getColor(s.baseFontColor)).replace(/^#? ([a-f0-9]+)/gi,"#$1"),axisBreaks:i.yaxisbreaks,axisNamePadding:i.yaxisnamepadding,axisValuePadding:i.yaxisvaluespadding,axisNameFont:i.yaxisnamefont,axisNameFontSize:i.yaxisnamefontsize,axisNameFontColor:i.yaxisnamefontcolor,axisNameFontBold:i.yaxisnamefontbold,axisNameFontItalic:i.yaxisnamefontitalic,axisNameBgColor:i.yaxisnamebgcolor,axisNameBorderColor:i.yaxisnamebordercolor,axisNameAlpha:i.yaxisnamealpha,axisNameFontAlpha:i.yaxisnamefontalpha,axisNameBgAlpha:i.yaxisnamebgalpha,axisNameBorderAlpha:i.yaxisnameborderalpha,axisNameBorderPadding:i.yaxisnameborderpadding,axisNameBorderRadius:i.yaxisnameborderradius,axisNameBorderThickness:i.yaxisnameborderthickness,axisNameBorderDashed:i.yaxisnameborderdashed,axisNameBorderDashLen:i.yaxisnameborderdashlen,axisNameBorderDashGap:i.yaxisnameborderdashgap,axisNameWidth:i.yaxisnamewidth,useEllipsesWhenOverflow:i.useellipseswhenoverflow,rotateAxisName:Y(i.rotateyaxisname,1),axisName:i.yaxisname,divLineColor:N(i.divlinecolor,a.getColor(s.divLineColor)),divLineAlpha:N(i.divlinealpha,r?a.getColor("divLineAlpha3D"):a.getColor("divLineAlpha")),divLineThickness:Y(i.divlinethickness,1),divLineIsDashed:!!Y(i.divlinedashed,i.divlineisdashed,0),divLineDashLen:Y(i.divlinedashlen,4),divLineDashGap:Y(i.divlinedashgap,2),showAlternateGridColor:Y(i.showalternatehgridcolor,1),alternateGridColor:N(i.alternatehgridcolor,a.getColor("altHGridColor")),alternateGridAlpha:N(i.alternatehgridalpha,a.getColor("altHGridAlpha")),numDivLines:Y(i.numdivlines,this.numDivLines),axisMinValue:i.yaxisminvalue,axisMaxValue:i.yaxismaxvalue,setAdaptiveMin:i.setadaptiveymin,adjustDiv:i.adjustdiv,labelStep:i.yaxisvaluesstep,showAxisValues:Y(i.showyaxisvalues,i.showyaxisvalue),showLimits:Y(i.showlimits,this.showLimits),showDivLineValues:Y(i.showdivlinevalues,i.showdivlinevalue),zeroPlaneColor:i.zeroplanecolor,zeroPlaneThickness:i.zeroplanethickness||2,zeroPlaneAlpha:i.zeroplanealpha,showZeroPlaneValue:i.showzeroplanevalue,trendlineColor:i.trendlinecolor,trendlineToolText:i.trendlinetooltext,trendlineThickness:i.trendlinethickness,trendlineAlpha:i.trendlinealpha,showTrendlinesOnTop:i.showtrendlinesontop,showAxisLine:Y(i.showyaxisline,i.showaxislines,i.drawAxisLines,0),axisLineThickness:Y(i.yaxislinethickness,i.axislinethickness,1),axisLineAlpha:Y(i.yaxislinealpha,i.axislinealpha,100),axisLineColor:N(i.yaxislinecolor,i.axislinecolor,"#000000")},t.vtrendlines=o.trendlines,o=e.yAxis[0],e=e.xAxis[0],o.setCommonConfigArr(a,!0,!0,!1),e.setCommonConfigArr(t,!1,!1,!0),o.configure(),e.configure()},_setCategories:function(){var t=this.get("components"),e=this.jsonData,a=t.xAxis,o=(t=t.yAxis,e.processes),i=e.datatable;e=e.categories;t[0].setAxisPadding(.5,.5),t[0].setProcess(o),t[0].setDataTable(i),a[0].setCategory(e)},_setAxisValuePadding:function(){var t,e,a=this.components.dataset,o=a.length,i=-1/0,r=-1/0;for(t=0;t<o;t++)e=(e=a[t]).getAxisValuePadding&&e.getAxisValuePadding()||{},i=et(i,e.left||-1/0),r=et(r,e.right||-1/0)},_spaceManager:function(){var t,e=this.config,a=this.components,o=a.xAxis&&a.xAxis[0],i=a.yAxis&&a.yAxis[0],r=a.legend.config.legendPos,s=100-(e.ganttwidthpercent||67);t=e.borderWidth;var n=a=0;this._resetViewPortConfig&&this._resetViewPortConfig(),o.resetTransletAxis(),i.resetTransletAxis(),this._allocateSpace({top:t,bottom:t,left:t,right:t}),this._allocateSpace(this._manageActionBarSpace&&this._manageActionBarSpace(.225*e.availableHeight)||{}),t="bottom"===r?.6*e.canvasHeight:.6*e.canvasWidth,this._manageChartMenuBar(t),this._manageLegendSpace("right"===r?.3*e.canvasWidth:.3*e.canvasHeight),e.actualCanvasTop=e.canvasTop,e.actualCanvasLeft=e.canvasLeft,a+=((r=i.placeAxis(s/100*e.canvasWidth)).left||0)+(r.right||0),i&&this._allocateSpace(r),t=.6*e.canvasHeight,n+=(r=o.placeAxis(t)).top||0,e.totalWidth=a,e.totalHeight=n,o&&this._allocateSpace(r),e=i&&i.setProcessHeight(),i.setAxisConfig({processTotalHeight:e})},_drawCanvas:function(){var t=this.jsonData.chart,e=this.components,a=this.config,o=this.graphics,i=e.paper,r=(e=(r=e.canvas).graphics,(P=r.config).clip={}),s=e.canvasBorderElement,n=(c=this.get("config","animationObj")).duration,l=c.dummyObj,h=c.animObj,c=c.animType,d=e.canvasElement,p=a.actualCanvasLeft,g=a.actualCanvasTop,f=a.canvasWidth,m=a.canvasHeight,v=a.canvasLeft,b=a.canvasTop,u=a.canvasWidth+a.totalWidth,x=(a=a.canvasHeight+a.totalHeight,o=o.canvasGroup,P.canvasBorderRadius),C=P.canvasBorderWidth,w=.5*C,k=P.canvasBorderColor,y=P.canBGColor,A=P.shadow,F=(t=P.showCanvasBG=!!Y(t.showcanvasbg,1),P.shadowOnCanvasFill),L=P.showCanvasBorder,P={x:p-w,y:g-w,width:u+C,height:a+C,r:x,"stroke-width":C,stroke:k,"stroke-linejoin":2<C?"round":"miter"};L?s?(s.show(),s.animateWith(l,h,{x:p-w,y:g-w,width:u+C,height:a+C,r:x},n,c),s.attr({"stroke-width":C,stroke:k,"stroke-linejoin":2<C?"round":"miter"}),s.shadow(A)):e.canvasBorderElement=i.rect(P,o).shadow(A):s&&s.hide(),r["clip-canvas"]=[et(0,v),et(0,b),et(1,f),et(1,m)],r["clip-canvas-init"]=[et(0,v),et(0,b),1,et(1,m)],t?(P={x:p,y:g,width:u,height:a,r:x,"stroke-width":0,stroke:"none",fill:Q(y)},d?(d.show(),n&&d.animateWith(l,h,{x:p,y:g,width:u,height:a,r:x},n,c),d.attr(P),d.shadow(F)):e.canvasElement=i.rect(P,o).shadow(F)):d&&d.hide()},_postSpaceManagement:function(){var t,e,a,o=this.config,i=(b=this.components).xAxis&&b.xAxis[0],r=b.yAxis&&b.yAxis[0],s=r.getAxisConfig("processTotalHeight"),n=o.canvasHeight,l=b.legend,h=o.xDepth,c=(f=b.canvas.config).canvasBorderWidth,d=f.canvasPadding,p=b.vScrollBar.userConf,g=f.canvasPaddingLeft,f=f.canvasPaddingRight,m=o.ganttpanedurationunit,v=b.hProcessScrollBar,b=(b=b.hScrollBar)&&b.userConf.height||0;v=v&&v.userConf.height||0;a=void 0!==Number(o.ganttpaneduration)&&void 0!==m,m=r.getAxisConfig("totalWidth"),e=r.getAxisConfig("totalVisiblelWidth"),n-(b=et(e<m?v:0,a?b:0))<s&&(t=!0),s=t&&p.width||0,s=o.canvasWidth-(h||0)-et(g,d)-et(f,d)-s,i&&i.setAxisDimention({x:o.canvasLeft+(h||0)+et(g,d),y:o.canvasTop-(o.shift||0),opposite:o.canvasBottom+c,axisLength:s}),o.currentCanvasWidth=s,r&&r.setAxisDimention({x:o.canvasLeft-(o.shift||0),y:o.canvasTop,opposite:o.canvasRight+c,axisLength:o.canvasHeight}),this._manageScrollerPosition(),l.postSpaceManager()},_resetViewPortConfig:function(){this.config.viewPortConfig={scaleX:1,scaleY:1,x:0,y:0}},_manageScrollerPosition:function(){var t,e=this.config,a=this.components,o=a.hScrollBar,i=a.vScrollBar,r=a.hProcessScrollBar,s=e.totalWidth||0,n=e.totalHeight||0;this._setAxisScale&&this._setAxisScale(),t=e.vScrollEnabled,a=e.hScrollEnabled,o=o.getLogicalSpace(),e.hScrollHeight=!1===a?0:o.height+i.conf.padding,o=i.getLogicalSpace(),e.vScrollWidth=!1!==t?o.width+i.conf.padding:0,o=r.getLogicalSpace(),e.hProcessScrollHeight=e.hProcessScrollEnabled?o.height+r.conf.padding:0,n+=et(e.hProcessScrollHeight,e.hScrollHeight),this._allocateSpace({bottom:et(e.hProcessScrollHeight,e.hScrollHeight)}),e.totalWidth=s,e.totalHeight=n},updateManager:function(t,e){var a=this.config,o=this.config.viewPortConfig,i=o.scaleX,r=this.components.xAxis[0],s=this.components.yAxis[0],n=this.graphics.datasetGroup,l=this.graphics.datalabelsGroup,h=this.graphics.trackerGroup,c=a.xOffset||0,d=a.yOffset||0,p=a.canvasHeight,g=a.currentCanvasWidth,f=o.scaleY;e?a.lastHScrollPosition=t:a.lastVScrollPosition=t,e?(c=a.xOffset=g*(i-1)*t,o.x=c/i,r.translateAxis(-c,void 0)):(d=a.yOffset=p*(f-1)*t,o.y=d/f,s.translateAxis(void 0,-d)),a="t"+-c+", "+-d,n.attr({transform:a}),l.attr({transform:a}),h.attr({transform:a})},_setAxisScale:function(){var t=this.components,e=this.config,a=t.xAxis[0],o=(i=a.getLimit()).max,i=i.min,r=new Date(i),s=t.yAxis[0],n=this.components.numberFormatter,l=Number(e.ganttpaneduration),h=e.scrollOptions||(e.scrollOptions={}),c=e.ganttpanedurationunit,d=o-i,p=(i=e.canvasHeight,e.scrolltodate),g=e.canvasWidth,f=e.canvasLeft,m=t.hProcessScrollBar,v=(t=(t=t.hScrollBar)&&t.userConf.height||0,m=m&&m.userConf.height||0,a.getPixel(o)-f);o=s.getAxisConfig("processTotalHeight");if(void 0===l||void 0===c)e.hScrollEnabled=!1;else{switch(c){case"y":r.setFullYear(r.getFullYear()+l);break;case"m":r.setMonth(r.getMonth()+l);break;case"d":r.setDate(r.getDate()+l);break;case"h":r.setHours(r.getHours()+l);break;case"mn":r.setMinutes(r.getMinutes()+l);break;default:r.setSeconds(r.getSeconds()+l)}r=r.getTime(),r=a.getPixel(r)-f,e.hScrollEnabled=!0,e.viewPortConfig.scaleX=r=v/r,h.horizontalVxLength=d/NaN*l,p&&(n=n.getDateValue(p).ms,a=a.getPixel(n),e.viewPortConfig.x=at(a-f,g*(r-1))/r)}a=s.getAxisConfig("totalWidth"),s=s.getAxisConfig("totalVisiblelWidth"),e.hProcessScrollEnabled=s<a,i-=s=et(e.hProcessScrollEnabled?m:0,e.hScrollEnabled?t:0),Math.floor(o)>i?(e.viewPortConfig.scaleY=o/i,e.vScrollEnabled=!0):e.vScrollEnabled=!1},drawScrollBar:function(){var t,e,a,o,i,r,s,n,l=this,h=l.config,c=l.components,d=c.xAxis[0],p=d.config,g=d.config.axisRange,f=h.viewPortConfig,m=h.scrollOptions||(h.scrollOptions={}),v=g.max,b=g.min,u=m.horizontalVxLength,x=c.hScrollBar,C=(g=x.node,c.vScrollBar),w=C.node,k=c.hProcessScrollBar,y=k.node,A=h.useverticalscrolling,F=v-b,L=h.canvasRight,P=f.scaleX,T=f.scaleY,D=h.vScrollEnabled,S=c.yAxis[0],H=D?C.conf.width:0,E=l.graphics,B=c.paper;t=h.canvasLeft,e=h.canvasTop,a=h.canvasHeight,o=h.canvasWidth,i=(c=c.canvas.config).canvasBorderWidth,Y(i,p.showLine?p.axisLineThickness:0),Y(i,p.lineStartExtension),Y(i,p.lineEndExtension),m.viewPortMin=b,m.viewPortMax=v,m.scrollRatio=u/F,p=m.windowedCanvasWidth=d.getAxisPosition(u),v=m.fullCanvasWidth=d.getAxisPosition(v-b)-p,d=m.fullCanvasHeight=S.getAxisConfig("processTotalHeight"),m=m.windowedCanvasHeight=a,b=S.getAxisConfig("totalWidth"),S=S.getAxisConfig("totalVisiblelWidth"),T=1/T,(u=E.scrollBarParentGroup)||(u=E.scrollBarParentGroup=B.group("scrollBarParentGroup",E.parentGroup).insertBefore(E.datalabelsGroup)),!1!==h.hScrollEnabled?(x.draw(t,e+a,{width:o-H,scrollRatio:1/P,scrollPosition:f.x*P/(o*(P-1)),roundEdges:c.isRoundEdges,fullCanvasWidth:v,windowedCanvasWidth:p,parentLayer:u}),!g&&($.eve.on("raphael.scroll.start."+x.node.id,function(t){r=t,_.raiseEvent("scrollstart",{scrollPosition:t},l.chartInstance)}),$.eve.on("raphael.scroll.end."+x.node.id,function(t){_.raiseEvent("scrollend",{prevScrollPosition:r,scrollPosition:t},l.chartInstance)}))):x&&x.node&&x.node.hide(),!1!==D&&A?(C.draw(L-H,e,{height:a,scrollRatio:T,roundEdges:c.isRoundEdges,fullCanvasWidth:d,windowedCanvasWidth:m,parentLayer:u}),!w&&($.eve.on("raphael.scroll.start."+C.node.id,function(t){s=t,_.raiseEvent("scrollstart",{scrollPosition:t},l.chartInstance)}),$.eve.on("raphael.scroll.end."+C.node.id,function(t){_.raiseEvent("scrollend",{prevScrollPosition:s,scrollPosition:t},l.chartInstance)}))):C&&C.node&&C.node.hide(),S<b?(k.draw(t-S,e+a,{width:S,scrollRatio:S/b,roundEdges:c.isRoundEdges,fullCanvasWidth:v,windowedCanvasWidth:p,parentLayer:u}),!y&&($.eve.on("raphael.scroll.start."+k.node.id,function(t){n=t,_.raiseEvent("scrollstart",{scrollPosition:t},l.chartInstance)}),$.eve.on("raphael.scroll.end."+k.node.id,function(t){_.raiseEvent("scrollend",{prevScrollPosition:n,scrollPosition:t},l.chartInstance)}))):k&&k.node&&k.node.hide()},_createLayers:function(){var t,e,a=this.components.paper,o=this.config,i=o.style.inCanvasStyle;h.mscartesian._createLayers.call(this),t=(e=this.graphics).datasetGroup,e.parentTaskGroup=e.parentTaskGroup||a.group("parentTaskGroup",t),e.parentConnectorsGroup=e.parentConnectorsGroup||a.group("parentConnectorsGroup",t),e.parentMilestoneGroup=e.parentMilestoneGroup||a.group("parentMilestoneGroup",t),a=this.config.milestoneLabelStyle={fontSize:Y(o.milestonefontsize,i.fontSize)+"px",fontFamily:N(o.milestonefont,i.fontFamily),fontWeight:Y(o.milestonefontbold,0)?"bold":"normal",fontStyle:Y(o.milestonefontitalic,0)?"italic":"normal"},K(a),e.parentMilestoneGroup.css(a)},_drawDataset:function(){this._setClipping(),h.mscartesian._drawDataset.call(this)},drawLegend:function(){var t=this.config,e=this.components.legend,a=e.config,o=a.width,i=a.height,r=t.marginLeft,s=t.marginTop,n=t.width,l=t.marginRight,h=t.marginBottom,c=t.totalWidth+t.canvasWidth,d=t.totalHeight+t.canvasHeight;t=t.height;"right"===a.legendPos?(o=n-o-l,i=s+((a=d-i)<0?0:a)/2):(o=r+((a=c-o)<0?0:a)/2,i=t-i-h),e.drawLegend(o,i)},_setClipping:function(){var t=this.config,e=this.graphics.datasetGroup,a=this.graphics.datalabelsGroup,o=this.graphics.trackerGroup,i=(r=t.viewPortConfig).scaleX,r=r.x,s=(h=this.config.animationObj).dummyObj,n=h.animObj,l=h.animType,h=h.transposeAnimDuration,c=this.components.canvas.config.clip["clip-canvas"].slice(0);this.config.clipSet?(e.animateWith(s,n,{"clip-rect":c},h,l),a.animateWith(s,n,{"clip-rect":c},h,l),o.animateWith(s,n,{"clip-rect":c},h,l)):(e.attr({"clip-rect":c}),a.attr({"clip-rect":c}),o.attr({"clip-rect":c})),t.xOffset=r*i,e.attr({transform:"T"+-r*i+",0"}),a.attr({transform:"T"+-r*i+",0"}),o.attr({transform:"T"+-r*i+",0"}),this.config.clipSet=!0},_createToolBox:function(){var t,e,a,o=this.components,i=o.yAxis[0],r=this._scrollBar,s=o.actionBar,n=r.get,l=r.add;(o.chartMenuBar||{}).drawn||s&&s.drawn||(h.mscartesian._createToolBox.call(this),s=o.tb,t=(t=o.toolBoxAPI).Scroller,r.clear(),l({isHorizontal:!0},{scroll:(a=this,function(t){a.updateManager.call(a,t,!0)})}),l({isHorizontal:!1},{scroll:(e=this,function(t){e.updateManager.call(e,t,!1)})}),l({isHorizontal:!0},{scroll:function(t){i.manageProcessScroll(t)}}),r=n()[0],l=n()[1],n=n()[2],o.hScrollBar=o.hScrollBar||new t(r.conf,1,s.pId).attachEventHandlers(r.handler),o.vScrollBar=o.vScrollBar||new t(l.conf,2,s.pId).attachEventHandlers(l.handler),o.hProcessScrollBar=o.hProcessScrollBar||new t(n.conf,3,s.pId).attachEventHandlers(n.handler))},_preDraw:function(){this._setAxisValuePadding(),this._setCategories(),this.chartMenuTools.reset(this.components.tb,this)},defaultPaletteOptions:function(){var t=arguments;return J.extend2(J.extend2(J.extend2(J.extend2({},t[0]),t[1]),t[2]),t[3])}(p({},J.defaultGaugePaletteOptions),{paletteColors:["AFD8F8 F6BD0F 8BBA00 FF8E46 008E8E D64646 8E468E 588526 B3AA00 008ED6 9D080D A186BE CC6600 FDC689 ABA000 F26D7D FFF200 0054A6 F7941C CC3300 006600 663300 6DCFF6".split(" "),"AFD8F8 F6BD0F 8BBA00 FF8E46 008E8E D64646 8E468E 588526 B3AA00 008ED6 9D080D A186BE CC6600 FDC689 ABA000 F26D7D FFF200 0054A6 F7941C CC3300 006600 663300 6DCFF6".split(" "),"AFD8F8 F6BD0F 8BBA00 FF8E46 008E8E D64646 8E468E 588526 B3AA00 008ED6 9D080D A186BE CC6600 FDC689 ABA000 F26D7D FFF200 0054A6 F7941C CC3300 006600 663300 6DCFF6".split(" "),"AFD8F8 F6BD0F 8BBA00 FF8E46 008E8E D64646 8E468E 588526 B3AA00 008ED6 9D080D A186BE CC6600 FDC689 ABA000 F26D7D FFF200 0054A6 F7941C CC3300 006600 663300 6DCFF6".split(" "),"AFD8F8 F6BD0F 8BBA00 FF8E46 008E8E D64646 8E468E 588526 B3AA00 008ED6 9D080D A186BE CC6600 FDC689 ABA000 F26D7D FFF200 0054A6 F7941C CC3300 006600 663300 6DCFF6".split(" ")],bgColor:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],bgAngle:[270,270,270,270,270],bgRatio:["100","100","100","100","100"],bgAlpha:["100","100","100","100","100"],canvasBgColor:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],canvasBgAngle:[0,0,0,0,0],canvasBgAlpha:["100","100","100","100","100"],canvasBgRatio:["","","","",""],canvasBorderColor:["545454","545454","415D6F","845001","68001B"],canvasBorderAlpha:[100,100,100,90,100],gridColor:["DDDDDD","D8DCC5","99C4CD","DEC49C","FEC1D0"],gridResizeBarColor:["999999","545454","415D6F","845001","D55979"],categoryBgColor:["F1F1F1","EEF0E6","F2F8F9","F7F0E6","FFF4F8"],dataTableBgColor:["F1F1F1","EEF0E6","F2F8F9","F7F0E6","FFF4F8"],toolTipBgColor:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],toolTipBorderColor:["545454","545454","415D6F","845001","68001B"],baseFontColor:["555555","60634E","025B6A","A15E01","68001B"],borderColor:["767575","545454","415D6F","845001","68001B"],borderAlpha:[50,50,50,50,50],legendBgColor:["ffffff","ffffff","ffffff","ffffff","ffffff"],legendBorderColor:["666666","545454","415D6F","845001","D55979"],plotBorderColor:["999999","8A8A8A","6BA9B6","C1934D","FC819F"],plotFillColor:["EEEEEE","D8DCC5","BCD8DE","E9D8BE","FEDAE3"],scrollBarColor:["EEEEEE","D8DCC5","99C4CD","DEC49C","FEC1D0"]})},h.scrollbase,{taskbarroundradius:0,taskbarfillmix:" { light-10 }, { dark-20 }, { light-50 }, { light-85 }",taskbarfillratio:"0,8,84,8",showslackasfill:1,dateintooltip:1,tasklabelsalign:"center",datepadding:3,showtasknames:0,showpercentlabel:!1,showhovereffect:1,slackfillcolor:"FF5E5E",connectorextension:10,tasklabelspadding:2,taskdatepadding:3,showlabels:void 0,showtooltip:1,showtaskhovereffect:void 0,useverticalscrolling:1,ganttpanedurationunit:void 0,ganttpaneduration:void 0,showtaskstartdate:void 0,showtaskenddate:void 0,ganttwidthpercent:void 0,showshadow:1,enablemousetracking:!1}),a&&a({showpercentlabel:{type:r,pAttr:"showpercentlabel"},fontsize:{type:i},alpha:{type:i},showborder:{type:r},borderthickness:{type:i},borderalpha:{type:i},showHoverEffect:{type:i},hoverFillAlpha:{type:i},slackHoverFillColor:{type:i},slackHoverFillAlpha:{type:r},showlabels:{type:r,pAttr:"showtasknames"},slackfillcolor:{pAttr:"slackfillcolor"},showtasklabels:{type:r,pAttr:"showtasknames"},showtasknames:{type:r,pAttr:"showlabels"},showconnectorhovereffect:{type:i,pAttr:"showhovereffect"},connectorextension:{type:i},tasklabelspadding:{type:i},taskdatepadding:{type:i},showstartdate:{type:i,pAttr:"showtaskstartdate"},showenddate:{type:i,pAttr:"showtaskenddate"},showtaskhovereffect:{type:i,pAttr:"showhovereffect"},useverticalscrolling:{type:i},taskbarroundradius:{type:i},showshadow:{type:i},showslackasfill:{type:i}}),L.register("component",["dataset","Task",{type:"task",configure:function(){var t=this.chart,e=p({},this.JSONData);this.__setDefaultConfig(),o(e,this.config,this.chart&&this.chart.config,{task:!0}),this.yAxis=t.components.yAxis[0],this._setConfigure()},_setConfigure:function(t){var e=this.config,a=this.chart,o=(P=a.jsonData).chart,i=this.JSONData;t=t||i.task;var r,s,n,l,h,c,d,p,g,f,m,v,b,u,x,C,w,k,y,A,F,L=(P.processes||{}).process||[],P=t&&t.length,T=a.components.colorManager,D=a.get("config"),S=a.get("components","numberFormatter"),H=D.taskbarfillmix,E=D.taskbarfillratio,B=D.showslackasfill,_=this.components.data,O=D.dateintooltip,W=(L=L.length,{right:"right",left:"left",undefined:"center",center:"center"}),M=a.components.tasksMap={},I=D.style.inCanvasStyle,V=0,z=D.dataLabelStyle;if(_||(_=this.components.data=[]),e.showlabels=N(i.showlabels,i.showlabels,i.showname,o.showtasklabels,o.showtasknames,0),F=e.labelStyle=ct({fontSize:e.fontSize,fontFamily:e.font}),K(e.labelStyle),P)for(a=0;a<P;a+=1)g=t[a],r=V%L,(f=N(g.processid))&&"string"==typeof f&&(f=f.toLowerCase()),A=g.id,m=Y(g.alpha,e.alpha),x=N(g.color,e.color,T.getColor("plotFillColor")),v=Y(g.borderalpha,e.borderalpha,"100"),b=N(g.bordercolor,e.bordercolor,T.getColor("plotBorderColor")),u=U(N(g.label,g.name),""),l=T.parseColorMix(x,H),h=T.parseAlphaList(m.toString(),l.length),c=T.parseRatioList(E,l.length),C=Y(g.angle,e.angle),(p=(p=_[a]||(_[a]={config:{}})).config).index=a,p.link=g.link,p.processId=N(g.processid,"__FCDPID__"+r),p.textColor=j(N(g.fontcolor,e.fontcolor,I.color)),p.style=ct({fontSize:g.fontsize,fontFamily:g.font}),K(p.style),r=p.style,p.lineHeight=N(r&&r.lineHeight,F&&F.lineHeight,z&&z.lineHeight),p.startMs=S.getDateValue(g.start).ms,p.endMs=S.getDateValue(g.end).ms,n=S.getFormattedDate(p.startMs),s=S.getFormattedDate(p.endMs),p.tAlpha=m,p.tBorderColor=b,p.tBorderAlpha=v,d="",p.percentComplete=r=at(Y(g.percentcomplete,-1),100),p.labelAlign=W[[N(g.labelalign,D.tasklabelsalign).toLowerCase()]],p.showAsGroup=Y(g.showasgroup,0),w=p.showPercentLabel=Y(g.showpercentlabel,e.showpercentlabel),Y(g.showlabel,g.showname,e.showlabels)&&(d=u),w&&-1!==r&&(d+=" "+r+"%"),p.percentComplete=r,y={FCcolor:{color:l.join(),alpha:h,ratio:c,angle:C}},k=T.parseColorMix(N(g.slackfillcolor,e.slackfillcolor),H),k=B?{FCcolor:{color:k.join(),alpha:h,ratio:c,angle:C}}:tt,h={FCcolor:{color:T.parseColorMix(N(g.hoverfillcolor,e.hoverfillcolor,D.taskhoverfillcolor,R(x,80)),H).join(),alpha:T.parseAlphaList(N(g.hoverfillalpha,e.hoverfillalpha).toString(),l.length),ratio:c,angle:C}},x=G(N(g.hoverbordercolor,e.hoverbordercolor,R(b,80)),N(g.hoverborderalpha,e.hoverborderalpha,v)),l=B?{FCcolor:{color:T.parseColorMix(R(N(g.slackhoverfillcolor,e.slackhoverfillcolor,D.slackfillcolor),80),H).join(),alpha:T.parseAlphaList(N(g.slackhoverfillalpha,e.slackhoverfillalpha,"100").toString(),l.length),ratio:c,angle:C}}:tt,p.color=Q(y),p.slackColor=Q(k),p.hoverFillColor=Q(h),p.hoverBorderColor=x,p.slackHoverColor=Q(l),p.showHoverEffect=Y(g.showhovereffect,e.showhovereffect,D.showtaskhovereffect,1),p.taskHeight=N(g.height,"35%"),p.topPadding=N(g.toppadding,"35%"),p.showPercentLabel=w,p.endDate=Y(g.showenddate,e.showenddate)?s:void 0,p._endDate=s,p.startDate=Y(g.showstartdate,e.showstartdate)?n:void 0,p._startDate=n,p.shadow={opacity:et(m,v)/100,inverted:!0},p.id=f,p.taskId=A,p.borderColor=G(b,v),p.borderThickness=Y(g.showborder,e.showborder)?Y(g.borderthickness,e.borderthickness):0,g=void 0!==(g=Z(X(N(g.tooltext,e.hovertext,e.plottooltext,o.plottooltext))))?J.parseTooltext(g,[3,28,29,30,31],{end:s,start:n,label:u,percentComplete:-1!==r?S.percentValue(r):"",processName:""},e):(""!==u?u+(O?", ":""):"")+(O?n+" - "+s:""),p.label=d,p.toolText=g,"string"==typeof A&&(A=A.toLowerCase()),void 0!==A&&(M[A]=_[a]),V+=1;this.visible=Y(i.visible,1)},getAxisValuePadding:function(){},draw:function(){var t;t=this.visible;var e,a=this.chart,o=a.jsonData,i=a.get("config"),r=(l=a.get("config","animationObj")).duration,s=l.dummyObj,n=l.animObj,l=l.animType,h=a.components,c=i.canvasTop,d=h.paper,p=(h=h.xAxis[0],this.yAxis);e=a.graphics.parentTaskGroup;var g,f,m=(z=this.components).data,v=z.removeDataArr,b=v&&v.length;f=a.graphics.datalabelsGroup;var u,x,C,w,k,y,A,F,L,P,T,D,S,H,E,B,_,O,W=this.graphics.dataLabelContainer,M=function(){W.show()},I=(V=this.graphics).container,V=V.shadowContainer,z=z.pool||[];O=i.showtooltip;var N=i.datepadding,j=(R=i.viewPortConfig).x,G=a.getJobList(),R=(o=o.processes.process&&o.processes.process.length,R.scaleX),X=i.taskbarroundradius,U=i.showshadow;for(x=this.config,I||(I=this.graphics.container=d.group("columns",e),t?I.show():I.hide()),W?W.removeCSS():(W=this.graphics.dataLabelContainer=d.group("labels",f),t?W.show():W.hide()),W.css(x.labelStyle),V||(V=this.graphics.shadowContainer=d.group("shadow",e).toBack(),t||V.hide()),O?I.trackTooltip(!0):I.trackTooltip(!1),e=m.length,t=O=0;t<e;t++)x=(f=(g=m[t])&&g.config)&&f.startMs,C=f&&f.endMs,void 0!==g&&void 0!==x&&null!==C&&(k=f.toolText,C=f.taskHeight,w=f.link,D=f.borderThickness,y=f.id,B=f.color,x=f.lineHeight,S=!1,o-1<O&&(O=0),L=void 0!==f.id?p.getProcessPositionById(y):p.getProcessPositionByIndex(O),O++,E=(A=L.height)*(/%/g.test(f.topPadding)&&.01*rt(f.topPadding,10))||Y(f.topPadding,A),C=f.height=A*(/%/g.test(C)&&.01*rt(C,10))||Y(C,A),void 0!==f.id&&p.getProcessPositionById(y),y=f.xPos=h.getAxisPosition(f.startMs)+j*R,u=h.getAxisPosition(f.endMs)+j*R,u=f.width=ot(F=u-y),L=L.bottom+c-A,L=f.yPos=L+at(E,A-C),H=.5*C,!g.graphics&&(g.graphics={}),y=(E=$.crispBound(y,L,u,C,D)).x,L=E.y,u=E.width,C=E.height,!1!==ht(y,L,u,C)&&(A=g.graphics.element,f.showAsGroup?(F="path",P={path:["M",y,L]},H={path:["M",y,L,"v",C,"L",y+H,L+H,"H",y+u-H,"L",y+u,L+C,"v",-C,"H",y]}):(F="rect",H={x:E.x,y:E.y,width:E.width||1,height:C},P=r?{x:E.x,y:E.y,width:0,height:C}:H),A&&A&&A.type!==F&&(A.hide(),A=g.graphics.element=null),A||(F=f.showAsGroup?"path":"rect",z.element&&z.element.length&&(A=z.element[0]).type===F?g.graphics.element=A=z.element.shift():(A=g.graphics.element=d[F](I).attr(P).data("dataset",this),S=!0,this.slackElemHandlers(A,a))),_=f.eventArgs={processId:f.processId,taskId:f.taskId,start:f._startDate,end:f._endDate,showAsGroup:f.showAsGroup,link:f.link,sourceType:"task",percentComplete:-1!==f.percentComplete},-1===f.percentComplete||f.showAsGroup?(g.graphics.taskFill&&g.graphics.taskFill.hide(),g.graphics.slackElem&&g.graphics.slackElem.hide()):(F=u*f.percentComplete*.01,B=tt,P=g.graphics.taskFill,T=g.graphics.slackElem,P||(z.taskFill&&z.taskFill.length?P=g.graphics.taskFill=z.taskFill.shift():(P=g.graphics.taskFill=d.rect(I),this.slackElemHandlers(P,a),S=!0,P.attr({x:y,y:L,height:C,width:r?0:F}))),T||(z.slackElem&&z.slackElem.length?T=g.graphics.slackElem=z.slackElem.shift():(T=g.graphics.slackElem=d.rect(I),this.slackElemHandlers(T,a),S=!0,T.attr({x:y,y:L,width:0,height:C}))),P.show().animateWith(s,n,{x:y,y:L,height:C,width:F,r:0},r,l),P.attr({fill:f.color,cursor:w?"pointer":"",ishot:!0,"stroke-width":0}).data("chart",a).data("dataObj",g).data("dataset",this).tooltip(k),T.show().animateWith(s,n,{x:y+F||1,y:L,width:u-F,height:C,r:0},r,l),T.attr({fill:f.slackColor,cursor:w?"pointer":"",ishot:!0,"stroke-width":0}),P&&P.data("eventArgs",_),T&&T.data("eventArgs",_).data("dataObj",g).data("dataset",this).data("chart",a)),A.show().animateWith(s,n,H,r,l).attr({fill:B,stroke:f.borderColor,cursor:w?"pointer":"",ishot:!0,r:X,"stroke-width":D}).shadow({opacity:U},V).tooltip(k).data("dataObj",g).data("chart",a).data("dataset",this).data("eventArgs",_),r&&S&&(W.hide(),A.animateWith(s,n,{width:E.width||1},r,l,M)),g=w?"pointer":"",w=f.labelAlign,(k=f._labelTextAttr||(f._labelTextAttr={})).x=y+u*nt[w]+lt[w],k.y=L-.5*it(x,10)-i.tasklabelspadding,k.text=f.label,k.direction=i.textDirection,k["text-anchor"]=st[w],k.cursor=g,k.ishot=!0,k.fill=f.textColor,k["line-height"]=x,(w=f._startLabelTextAttr||(f._startLabelTextAttr={})).x=y-2-N,w.y=L+.5*C,w.text=f.startDate,w["text-anchor"]="end",w.cursor=g,w.ishot=!0,w.direction=i.textDirection,w.fill=f.textColor,w["line-height"]=x,(w=f._endLabelTextAttr||(f._endLabelTextAttr={})).x=y+u+2+N,w.y=L+.5*C,w.text=f.endDate,w.cursor=g,w.ishot=!0,w.direction=i.textDirection,w["text-anchor"]="start",w.fill=f.textColor,w["line-height"]=x,f.cursor=g,S=!1));for(this.drawn?this.drawLabel():G.labelDrawID.push(q.addJob(this.drawLabel.bind(this),J.priorityList.label)),this.drawn=!0,t=0;t<b;t++)this._removeDataVisuals(v.shift())},drawLabel:function(){var t,e,a,o,i,r,s=this.chart,n=s.components.paper,l=this.components.data,h=this.components.pool||{},c=(e=s.get("config","animationObj")).dummyObj,d=e.animObj,p=e.duration,g=e.animType,f=this.graphics.dataLabelContainer,m=l.length;for(r=0;r<m;r++)e=(a=l[r]).config,t=(v=a.graphics).label,o=e.eventArgs,x(e.label)&&""!==e.label?(i=e._labelTextAttr,(t=v.label||(v.label=h.valElem&&h.valElem.shift()))?(t.removeCSS(),t.show().animateWith(c,d,i,p,g).css(e.style)):(t=a.graphics.label=n.text(i,e.style,f).data("dataset",this),this.slackElemHandlers(t,s)),t.data("dataObj",a).data("dataObj",a).data("eventArgs",o)):t&&t.hide(),t=a.graphics.startLabel,x(e.startDate)&&""!==e.startDate?(i=e._startLabelTextAttr,(t=v.startLabel||(v.startLabel=h.startValElem&&h.startValElem.shift()))?(t.removeCSS(),t.show().animateWith(c,d,i,p,g).css(e.style)):(t=a.graphics.startLabel=n.text(i,e.style,f).data("dataset",this),this.slackElemHandlers(t,s)),t.data("dataObj",a).data("chart",s).data("eventArgs",o)):t&&t.hide(),t=a.graphics.endLabel,x(e.endDate)&&""!==e.endDate?(i=e._endLabelTextAttr,(t=v.endLabel||(v.endLabel=h.endValElem&&h.endValElem.shift()))?(t.removeCSS(),t.show().animateWith(c,d,i,p,g).css(e.style)):(t=a.graphics.endLabel=n.text(i,e.style,f).data("dataset",this),this.slackElemHandlers(t,s)),t.data("dataObj",a).data("chart",s).data("eventArgs",o)):t&&t.hide()},slackElemHandlers:function(t,a){var o=this;t&&t.click(function(t){A.call(this,a,t)}).hover(function(t){var e=this.data("dataObj");A.call(this,a,t,"DataPlotRollOver"),e.config.showHoverEffect&&o.taskHoverHandler.call(this,a)},function(t){var e=this.data("dataObj");A.call(this,a,t,"DataPlotRollOut"),e.config.showHoverEffect&&o.taskHoverOutHandler.call(this,a)})},taskHoverHandler:function(){var t=this.data("dataObj")||{},e=(e=this.data("dataset").components.data)[a=(t=t.config||{}).index]&&e[a].graphics,a={fill:t.hoverFillColor,stroke:t.hoverBorderColor};-1===t.percentComplete||t.showAsGroup||(e.slackElem.attr({fill:t.slackHoverColor}),e.taskFill.attr({fill:t.hoverFillColor}),delete a.fill),e.element.attr(a)},taskHoverOutHandler:function(){var t=this.data("dataObj")||{},e=(e=(this.data("dataset")||{}).components.data)[a=(t=t.config||{}).index]&&e[a].graphics,a={fill:t.color,stroke:t.borderColor,"stroke-width":t.borderThickness,"stroke-dasharray":t.dashedStyle};e&&(-1===t.percentComplete||t.showAsGroup||(e.slackElem.attr({fill:t.slackColor}),e.taskFill.attr({fill:t.color}),delete a.fill),e.element.attr(a))},slackElemClickHandler:function(t){var e=this.data("chart");A.call(this,e,t)},_removeDataVisuals:function(t){var e,a,o,i=this.components.pool||(this.components.pool={});if(t)for(e in a=t.graphics)t=i[e]||(i[e]=[]),(o=a[e]).hide&&"function"==typeof o.hide&&(o.attr({"text-bound":[]}),o.hide(),o.transform&&o.transform("")),t.push(a[e])}},"column",{showpercentlabel:void 0,showlabels:void 0,showborder:1,borderthickness:1,font:"",fontcolor:"",fontsize:"",color:"",alpha:"100",angle:270,slackfillcolor:void 0,borderalpha:"100",hoverfillcolor:"",hoverfillalpha:"100",slackhoverfillalpha:"100",showstartdate:void 0,showenddate:void 0}]),L.register("component",["dataset","Milestone",{type:"Milestone",configure:function(){var t=this.config,e=this.chart,a=p({},this.JSONData);this.__setDefaultConfig(),o(a,t,{milestones:!0}),this.yAxis=e.components.yAxis[0],this._setConfigure()},_setConfigure:function(t){var e,a,o,i,r,s,n,l,h=this.chart,c=this.JSONData,d=(t=t||c.milestone)&&t.length,p=h.components.colorManager,g=h.get("config"),f=h.get("components","numberFormatter"),m=this.components.data,v=h.config.style,b=v.inCanvasStyle,u=h.components.tasksMap,x=h.config.milestoneLabelStyle;for(m||(m=this.components.data=[]),h=0;h<d;h+=1)a=t[h],(e=m[h])||(e=m[h]={config:{}}),e=e.config,n=U(a.taskid,"").toLowerCase(),i=N(a.shape,"polygon").toLowerCase(),o=Y(a.numsides,5),r=0,"star"===i?r=.4:(C(o),C(o).split("-")),i=N(a.color,p.getColor("legendBorderColor")),s=Z(X(N(a.tooltext,a.hovertext,g.milestonetooltext))),v=f.getDateValue(a.date).ms,l=f.getFormattedDate(v),void 0!==s&&u[n]?(v=u[n].config,s=J.parseTooltext(s,[28,32,33,34,35,36],{date:l,taskStartDate:v._startDate,taskEndDate:v._endDate,taskLabel:v.label,taskPercentComplete:-1!==v.percentComplete?f.percentValue(v.percentComplete):"",processName:""},a)):s=l,v=e.style=ct({fontSize:a.fontsize,fontFamily:a.font,fontWeight:a.fontbold,fontStyle:a.fontitalic}),e.textColor=j(N(a.fontcolor,g.milestonefontcolor,b.color)),K(v),e.lineHeight=N(v&&v.lineHeight,x&&x.lineHeight),e.numSides=o,e.startAngle=Y(a.startangle,90),e.radius=a.radius,e.origDate=a.date,e.date=f.getDateValue(a.date),e.fillColor=j(i),e.fillAlpha=.01*Y(a.fillalpha,a.alpha,100),e.borderColor=j(N(a.bordercolor,i)),e.borderAlpha=.01*Y(a.borderalpha,a.alpha,100),e.displayValue=X(a.label),e.style=v,e.hoverFillColor=j(N(a.hoverfillcolor,g.milestonehoverfillcolor,R(i,80))),e.hoverFillAlpha=.01*Y(a.hoverfillalpha,g.milestonehoverfillalpha,a.fillalpha,a.alpha,100),e.hoverBorderColor=j(N(a.hoverbordercolor,g.milestonehoverbordercolor,R(N(a.bordercolor,i),80))),e.hoverBorderAlpha=.01*Y(a.hoverborderalpha,g.milestonehoverborderalpha,a.borderalpha,a.alpha,100),e.showHoverEffect=Y(a.showhovereffect,g.showmilestonehovereffect,g.showhovereffect,1),e.depth=r,e.taskId=n,e.borderThickness=Y(a.borderthickness,1),e.link=a.link,e.toolText=s;this.visible=Y(c.visible,1)},draw:function(){var t,e,a,o,i,r,s,n,l=this.chart,h=(u=l.components).xAxis[0],c=this.components.data,d=u.tasksMap,p=l.config,g=(y=l.get("config","animationObj")).duration,f=this.graphics.container,m=l.graphics.parentMilestoneGroup,v=this.graphics.dataLabelContainer,b=this.visible,u=u.paper,x=this.components.removeDataArr||[],C=x.length,w=y.dummyObj,k=y.animObj,y=y.animType,A=l.getJobList();t=p.showtooltip;var F=this.components.pool||[];for(f||(f=this.graphics.container=u.group("milestone",m),b?f.show():f.hide()),v||(v=this.graphics.dataLabelContainer=u.group("labels",m),b?v.show():v.hide()),t?f.trackTooltip(!0):f.trackTooltip(!1),b=c&&c.length,v=0;v<b;v+=1)(t=c[v])&&(e=d[(m=t.config).taskId],!t.graphics&&(t.graphics={}),r=(a=t.graphics).element,s=a.label,e?(i=e.config,n=$.animation({"fill-opacity":m.fillAlpha,"stroke-opacity":m.borderAlpha},g,y),o=m.eventArgs={sides:m.sides,date:m.origDate,radius:m.radius,taskId:m.taskId,toolText:m.toolText,link:m.link,numSides:m.numSides},e=h.getPixel(m.date.ms),s=i.yPos+.5*i.height,i=Y(m.radius,.6*i.height),!1!==ht(e,s,i)&&(i=[m.numSides,e,s,i,m.startAngle,m.depth],r||(r=F.element&&F.element.length?a.element=F.element.shift():a.element=u.polypath(f).click(this.clickHandler(l)).hover(this.rollOverHandler(l),this.rollOutHandler(l))),r.show().animateWith(w,k,{polypath:i},g,y).attr({fill:m.fillColor,"fill-opacity":g?0:m.fillAlpha,stroke:m.borderColor,"stroke-opacity":g?0:m.borderAlpha,groupId:"gId"+v,ishot:!0,cursor:m.link?"pointer":"","stroke-width":m.borderThickness}).tooltip(m.toolText).data("eventArgs",o).data("dataObj",t),g&&n&&!this.drawn&&a.element.animateWith(w,k,n.delay(g)),(t=m._labelAttrs||(m._labelAttrs={})).x=e,t.y=s,t.text=m.displayValue,t.groupId="gId"+v,t.cursor=m.link?"pointer":"",t.ishot=!0,t.direction=p.textDirection,t["text-anchor"]="middle",t.fill=m.textColor)):(r&&r.hide(),s&&s.hide()));for(this.drawn?this.drawLabel():A.labelDrawID.push(q.addJob(this.drawLabel.bind(this),J.priorityList.label)),this.drawn=!0,v=0;v<C;v++)this._removeDataVisuals(x.shift())},drawLabel:function(){var t,e,a,o,i,r,s,n,l,h,c=this.chart,d=c.components.paper,p=(m=c.get("config","animationObj")).duration,g=m.animType,f=m.dummyObj,m=m.animObj,v=c.components.tasksMap,b=this.graphics.dataLabelContainer,u=this.components.pool||{},x=this.components.data;for(o=0,r=x.length;o<r;o++)l=v[(t=(a=x[o]).config).taskId],i=(s=a.graphics).label,e=t.eventArgs,n=t._labelAttrs,h=t.style,""!==t.displayValue&&void 0!==t.displayValue&&l?((i=s.label||(s.label=u.label&&u.label.shift()))?(i.removeCSS(),i.show().animateWith(f,m,n,p,g).css(h)):i=s.label=d.text(n,h,b).click(this.clickHandler(c)).hover(this.rollOverHandler(c),this.rollOutHandler(c)),i.tooltip(t.toolText).data("eventArgs",e).data("dataObj",a)):i&&i.hide()},clickHandler:function(e){return function(t){A.call(this,e,t,"MilestoneClick")}},rollOverHandler:function(o){return function(t){var e=this.data("dataObj"),a=e.config;A.call(this,o,t,"MilestoneRollOver"),a.showHoverEffect&&e.graphics.element.attr({fill:a.hoverFillColor,stroke:a.hoverBorderColor,"fill-opacity":a.hoverFillAlpha,"stroke-opacity":a.hoverBorderAlpha})}},rollOutHandler:function(o){return function(t){var e=this.data("dataObj"),a=e.config;A.call(this,o,t,"MilestoneRollOut"),a.showHoverEffect&&e.graphics.element.attr({fill:a.fillColor,stroke:a.borderColor,"fill-opacity":a.fillAlpha,"stroke-opacity":a.borderAlpha})}}},"Task",{showpercentlabel:0,showstartdate:0,showenddate:0,showlabels:void 0,showborder:1,borderthickness:1,showHoverEffect:1,slackFillColor:"FF5E5E",font:"",fontcolor:"",fontsize:"",color:"",alpha:"100",bordercolor:"",borderalpha:"100",hoverFillColor:"",hoverFillAlpha:"100",slackHoverFillColor:10,slackHoverFillAlpha:"100"}]),L.register("component",["dataset","Connectors",{configure:function(){var t=this.config,e=this.chart,a=p({},this.JSONData);this.__setDefaultConfig(),o(a,t,{connector:!0}),this.yAxis=e.components.yAxis[0],this._setConfigure()},_setConfigure:function(t){var e,a,o,i,r,s,n,l=this.config,h=this.chart,c=this.JSONData,d=(t=t||c.connector)&&t.length||0,p=h.components.colorManager,g=(h=h.get("config"),this.components.data);for(g||(g=this.components.data=[]),e=0;e<d;e+=1)o=t[e],(a=g[e])||(a=g[e]={config:{}}),!a.config&&(a.config={}),a=a.config,i=N(o.color,l.color,p.getColor("plotBorderColor")),r=Y(o.alpha,l.alpha,100),s=Y(o.thickness,l.thickness,1),n=Y(o.isdashed,l.isdashed,1),a.fromTaskId=U(o.fromtaskid,"").toLowerCase(),a.toTaskId=U(o.totaskid,"").toLowerCase(),a.fromTaskConnectStart=Y(o.fromtaskconnectstart,0),a.toTaskConnectStart=Y(o.totaskconnectstart,1),a.color=G(i),a.alpha=.01*r,a.link=o.link,a.showHoverEffect=Y(o.showhovereffect,l.showhovereffect,h.showconnectorhovereffect,1),a.hoverColor=G(N(o.hovercolor,l.hovercolor,h.connectorhovercolor,R(i,80)),Y(o.hoveralpha,l.hoveralpha,h.connectorhoveralpha,r)),a.hoverThickness=Y(o.hoverthickness,l.hoverthickness,h.connectorhoverthickness,s),a.thickness=s,a.dashedStyle=n?f(Y(o.dashlen,l.dashlen,5),Y(o.dashgap,l.dashgap,s),s):"none";this.visible=Y(c.visible,1)},draw:function(){var t,e,a,o,i,r,s,n,l,h,c,d,p,g,f,m,v=this.chart,b=v.components,u=this.components.data,x=b.paper,C=u.length,w=(b=b.tasksMap,v.config.connectorextension),k=v.graphics.parentConnectorsGroup,y=this.graphics.container,A=this.components.pool||[],F=this.visible,L=(D=v.get("config","animationObj")).duration,P=D.dummyObj,T=D.animObj,D=D.animType,S=this.components.removeDataArr||[],H=S.length;for(y||(y=this.graphics.container=x.group("connectors",k),F?y.show():y.hide()),m=0;m<=C;m+=1)if(k=u[m])if(c=k.config,!k.graphics&&(k.graphics={}),F=k.graphics,t=c.fromTaskId&&c.fromTaskId.toLowerCase(),e=c.toTaskId&&c.toTaskId.toLowerCase(),t=b[t],a=b[e],e=F.connector,t&&a){if(d=t.config,n=a.config,o=(t=d.yPos+.5*d.height)==(a=n.yPos+.5*n.height),i=d.xPos,r=d.xPos+d.width,s=n.xPos,n=n.xPos+n.width,!1!==ht(i,r,s,n)){if((h=0)===c.fromTaskConnectStart&&1===c.toTaskConnectStart&&(h=1),0===c.fromTaskConnectStart&&0===c.toTaskConnectStart&&(h=2),1===c.fromTaskConnectStart&&1===c.toTaskConnectStart&&(h=3),1===c.fromTaskConnectStart&&0===c.toTaskConnectStart&&(h=4),o)switch(d=d.height,h){case 1:l=["M",r,t,r+(l=(s-r)/10),t,"L",r+l,t,r+l,t-d,"L",r+l,t-d,s-l,t-d,"L",s-l,t-d,s-l,t,"L",s-l,t,s,a];break;case 2:l=["M",r,t,r+w,t,"L",r+w,t,r+w,t-d,"L",r+w,t-d,n+w,t-d,"L",n+w,a-d,n+w,a,n,a];break;case 3:l=["M",i,t,i-w,t,"L",i-w,t,i-w,t-d,"L",i-w,t-d,s-w,t-d,"L",s-w,t-d,s-w,t,"L",s-w,t,s,t];break;case 4:l=["M",i,t,i-w,t,"L",i-w,t,i-w,t-d,"L",i-w,t-d,n+w,t-d,"L",n+w,t-d,n+w,t,"L",n+w,t,n,t]}else switch(h){case 1:l=r<=s?["M",r,t,r+(s-r)/2,t,"L",r+(s-r)/2,t,r+(s-r)/2,a,"L",r+(s-r)/2,a,s,a]:["M",r,t,r+w,t,"L",r+w,t,r+w,t+(a-t)/2,"L",r+w,t+(a-t)/2,s-w,t+(a-t)/2,"L",s-w,t+(a-t)/2,s-w,a,"L",s-w,a,s,a];break;case 2:l=["M",r,t,r+w+(l=n-r<0?0:n-r),t,"L",r+w+l,t,r+w+l,a,"L",r+w+l,a,n,a];break;case 3:l=["M",i,t,i-w-(l=i-s<0?0:i-s),t,"L",i-w-l,t,i-w-l,a,"L",i-w-l,a,s,a];break;case 4:l=n<i?["M",i,t,i-(i-n)/2,t,"L",i-(i-n)/2,t,i-(i-n)/2,a,"L",i-(i-n)/2,a,n,a]:["M",i,t,i-w,t,"L",i-w,t,i-w,t+(a-t)/2,"L",i-w,t+(a-t)/2,n+w,t+(a-t)/2,"L",n+w,t+(a-t)/2,n+w,a,"L",n+w,a,n,a]}e||(e=A.connector&&A.connector.length?F.connector=A.connector.shift():F.connector=x.path(y),L?(f=$.animation({"stroke-opacity":c.alpha},L,D),p=0,g=L):p=c.alpha),e.show().animateWith(P,T,{path:l},L,D).attr({stroke:c.color,"stroke-opacity":p,"stroke-width":c.thickness,"stroke-dasharray":c.dashedStyle}),f&&e.animate(f.delay(g||0)),e={fromTaskId:c.fromTaskId,toTaskId:c.toTaskId,fromTaskConnectStart:c.fromTaskConnectStart,toTaskConnectStart:c.toTaskConnectStart,link:c.link,sourceType:"connector"},(t=F.tracker)||(t=A.tracker&&A.tracker.length?F.tracker=A.tracker.shift():F.tracker=x.path(y).click(this.connectorClick(v)).hover(this.rollOverHandler(v),this.rollOutHandler(v))),t.attr({path:l,stroke:tt,"stroke-width":et(c.thickness,10),ishot:!0,cursor:c.link?"pointer":""}).data("dataObj",k).data("eventArgs",e)}}else e&&e.hide();for(m=0;m<H;m++)this._removeDataVisuals(S.shift())},connectorClick:function(e){return function(t){A.call(this,e,t,"ConnectorClick")}},rollOverHandler:function(s){return function(t){var e=(r=this.data("dataObj")).config,a=(o=s.components.tasksMap)[e.fromTaskId],o=o[e.toTaskId],i={stroke:e.hoverColor,"stroke-dasharray":e.dashedStyle,"stroke-width":e.hoverThickness},r=r.graphics.connector;A.call(this,s,t,"ConnectorRollOver"),e.showHoverEffect&&(c([a,o],function(t){var e={fill:t.config.hoverFillColor,stroke:t.config.hoverBorderColor},a=t.graphics.slackElem,o=t.graphics.element,i=t.graphics.taskFill;t.config.percentComplete&&!t.config.showAsGroup&&(a&&a.attr({fill:t.config.slackHoverColor}),i&&i.attr({fill:t.config.hoverFillColor,stroke:t.config.hoverBorderColor}),delete e.fill),o&&o.attr(e)}),r&&r.attr(i))}},rollOutHandler:function(s){return function(t){var e=(r=this.data("dataObj")).config,a=(o=s.components.tasksMap)[e.fromTaskId],o=o[e.toTaskId],i={stroke:e.color,"stroke-width":e.thickness,"stroke-dasharray":e.dashedStyle},r=r.graphics.connector;A.call(this,s,t,"ConnectorRollOut"),e.showHoverEffect&&(c([a,o],function(t){var e={fill:t.config.color,stroke:t.config.borderColor,"stroke-width":t.config.borderThickness,"stroke-dasharray":t.config.dashedStyle},a=t.graphics.slackElem,o=t.graphics.element,i=t.graphics.taskFill;t.config.percentComplete&&!t.config.showAsGroup&&(a&&a.attr({fill:t.config.slackColor}),i&&i.attr({fill:t.config.color}),delete e.fill),o&&o.attr(e)}),r&&r.attr(i))}}},"Task",{isdashed:1,thickness:1}]),L.get("component",["axis","ganttCommon",{_drawPlotLine:function(){var t,e,a,o,i,r=this.config,s=this.chart,n=r.canvas,l=s.config,h=r.ganttPlotLineContainer,c=n.canvasBottom||l.canvasBottom,d=n.canvasLeft||l.canvasLeft,p=n.canvasRight||l.canvasRight,g=n.canvasTop||l.canvasTop,f=s.components.paper,m=r.gridArr,v=(n=this.graphics.line||[],l=r.animateAxis,[]);for(o=(t=s.get("config","animationObj")).animObj,i=t.dummyObj,s=t.transposeAnimDuration,t=t.animType,r={"stroke-dasharray":r.plotLineDashStyle,"stroke-width":r.plotLineThickness,stroke:r.plotLineColor},e=0,a=m.length;e<a;e+=1)void 0!==m[e].x?v.push("M",m[e].x,g,"L",m[e].x,c):v.push("M",d,m[e].y,"L",p,m[e].y);for(n[0]?(h=n[0].graphics,s&&l?h.animateWith(i,o,{path:v},s,t):h.attr({path:v}),h.attr(r)):((h=f.path(v,h)).attr(r),n[0]={},n[0].graphics=h),e=1,a=n.length;e<a;e+=1)n[e].graphics.attr({path:"M0,0"});this.graphics.line=n},_drawPlotBand:function(){},translateAxis:function(t,e){var a,o,i=this.config,r=i.isVertical,s=i.lastTranslate||(i.lastTranslate={x:0,y:0}),n=i.ganttPlotHoverBandContainer;a=void 0!==t?t-s.x:0,o=void 0!==e?e-s.y:0,s.x=void 0!==t?t:s.x,s.y=void 0!==e?e:s.y,i.labelContainer&&i.labelContainer.translate(a,o),i.hotContainer&&i.hotContainer.translate(a,o),i.headerContainer&&i.headerContainer.translate(a,0),r?(i.ganttPlotLineContainer&&i.ganttPlotLineContainer.translate(0,o),n&&n.translate(0,o)):(i.ganttPlotLineContainer&&i.ganttPlotLineContainer.translate(a,0),n&&n.translate(a,0),this.setAxisConfig({animateAxis:!1}),i.drawTrendLines&&this._drawTrendLine(),this.setAxisConfig({animateAxis:!0}))},resetTransletAxis:function(){var t,e=this.config;t={transform:"t0,0"},e.lastTranslate={x:0,y:0},e.labelContainer&&e.labelContainer.attr(t),e.headerContainer&&e.headerContainer.attr(t),e.ganttPlotLineContainer&&e.ganttPlotLineContainer.attr(t),e.ganttPlotHoverBandContainer&&e.ganttPlotHoverBandContainer.attr(t),e.hotContainer&&e.hotContainer.attr(t)},_drawProcessAndDataTableStyleParser:function(t){var e,a,o,i,r,s,n,l,h,c,d,p,g,f=this.config,m=this.chart,v=m.linkedItems.smartLabel,b=m.components.colorManager,u=f.labels.style,x=t.elem||{},C=t.dimension,w=x._attrib||{},k=C.left,y=C.right,A=C.top,F=C.bottom;switch(t.type){case"category":case"datatable":case"process":e=N(w.font,u.fontFamily),a=N(w.fontsize,u.fontSize).replace(/px/i,"")+"px",i=N(Number(w.isitalic)?"italic":void 0,u.fontStyle),r=G(N(w.bgcolor?j(w.bgcolor):void 0,b.getColor("categoryBgColor")),Y(w.bgalpha,100)),d=N(w.fontcolor?j(w.fontcolor):void 0,u.color),p=Y(w.isunderline,0)?"underline":"none",h=N(w.valign,"center").toLowerCase(),c=N(w.align,"middle").toLowerCase(),l=x.drawLabel||"",o=N(Number(w.isbold)?"bold":void 0,u.fontWeight),g=x.link;break;case"header":e=N(w.headerfont,u.fontFamily),a=N(w.headerfontsize,u.fontSize).replace(/px/i,"")+"px",o=N(1===Number(w.headerisbold)?"bold":void 0===w.headerisbold?"bold":void 0,u.fontWeight),d=N(w.headerfontcolor?j(w.headerfontcolor):void 0,u.color),p=Y(w.headerisunderline,0)?"underline":"none",i=N(w.headerisitalic?"italic":void 0,u.fontStyle),r=G(N(w.headerbgcolor?j(w.headerbgcolor):void 0,b.getColor("categoryBgColor")),Y(w.headerbgalpha,100)),h=N(w.headervalign,"center").toLowerCase(),c=N(w.headeralign,"middle").toLowerCase(),l=x.drawLabel||"",g=x.headerlink}switch(t.type){case"category":f.gridLinePath+="M"+k+","+A+"L"+k+","+F+"L"+y+","+F,o=N(1===Number(w.isbold)?"bold":void 0===w.isbold?"bold":void 0,u.fontWeight);break;case"datatable":case"process":f.gridLinePath+="M"+k+","+F+"L"+y+","+F+"L"+y+","+A;break;case"header":f.gridLineHeaderPath+="M"+k+","+F+"L"+y+","+F+"L"+y+","+A}return b=N(x._attrib.hoverbandcolor,f.hoverColor),w=Y(x._attrib.hoverbandalpha,f.hoverAlpha),"left"===c?(s=k+2,c="start"):"right"===c?(s=k+(y-k)-2,c="end"):(c="middle",s=k+(y-k)/2),"top"===h?n=A-2:"bottom"===h?n=A+(F-A)-2:(h="center",n=A+(F-A)/2),e=K(u={fontFamily:e,fontSize:a,fontWeight:o,fontStyle:i,textDecoration:p}),e=(e=Number(e.replace(/px/i,"")))<F-A?F-A:e,v.useEllipsesOnOverflow(m.config.useEllipsesWhenOverflow),v.setStyle(u),u={textAttr:{x:s,y:n,text:(m=v.getSmartText(l,y-k,e)).text,fill:d,"text-anchor":c,"vertical-align":h,cursor:g?"pointer":"default"},css:u,rectAttr:{x:k,y:A,width:k<y?y-k:0,height:A<F?F-A:0,fill:r,"stroke-width":0,cursor:g?"pointer":"default"},eventArgs:{isHeader:"header"===t.type,label:l,vAlign:h,align:c,link:g,id:x.id},tooltext:m.oriText},"datatable"===t.type||"process"===t.type||"category"===t.type?(y=G(b,w),k=Y(x._attrib.showhoverband,f.useHover),f=Y(x._attrib.showganttpanehoverband,f.usePlotHover,k),u.dataArgs={rollOverColor:y,useHover:k,usePlotHover:f,dimension:C,hoverEle:x,type:t.type,pos:t.pos,axis:this,groupId:t.elemIndex}):u.dataArgs={rollOverColor:void 0,useHover:0,usePlotHover:0,dimension:C,hoverEle:x,type:t.type,pos:t.pos,axis:this,groupId:t.elemIndex},u},_drawProcessAndDataTableElement:function(t){var e,a,o,i,r,s,n,l=this,h=l.config,c=l.chart,d=c.components,p=l.components.categoryElement||[],g=h.hoverElemsArr||(h.hoverElemsArr=[]),f=d.paper,m=(d=t.elemIndex,h.labelHoverEventName),v=h.animateAxis,b=c.config.showtooltip,u=function(t){A.call(this,c,t,m.click)},x=function(t){w=clearTimeout(w),k&&!k.removed||(k=null),k&&l._gridOutHandler.call(k),l._gridHoverHandler.call(this),A.call(this,c,t,m.rollOver)},C=function(t){k=this,w=clearTimeout(w),w=setTimeout(function(){l._gridOutHandler.call(k)},500),A.call(k,c,t,m.rollOut)};r=(e=c.get("config","animationObj")).animObj,s=e.dummyObj,a=e.transposeAnimDuration,n=e.animType,"header"===t.type?(e=h.headerBackContainer,o=h.headerTextContainer):(e=h.labelBackContainer,o=h.labelTextContainer),h=l._drawProcessAndDataTableStyleParser(t),p[d]?(f=p[d].graphics.label,i=p[d].graphics.rect,e.appendChild(i),o.appendChild(f),a&&v?(i.animateWith(s,r,h.rectAttr,a,n),f.animateWith(s,r,h.textAttr,a,n)):(i.attr(h.rectAttr),f.attr(h.textAttr)),f.css(h.css)):(i=f.rect(h.rectAttr,e),f=f.text(h.textAttr,h.css,o),p[d]={},p[d].graphics={},p[d].config={},p[d].graphics.label=f,(p[d].graphics.rect=i).hover(x,C).click(u),f.hover(x,C).click(u)),"header"!==t.type&&(g[t.pos]||(g[t.pos]=[]),g[t.pos].push({bgElem:i,bgColor:h.rectAttr.fill})),i.data("dataObj",t.elem).data("eventArgs",h.eventArgs).data("data",h.dataArgs),f.data("dataObj",t.elem).data("eventArgs",h.eventArgs).data("data",h.dataArgs).tooltip(h.tooltext).trackTooltip(!!b),l.components.categoryElement=p},_drawGridLine:function(){var t,e,a,o,i,r,s=this.config,n=this.chart,l=n.components.paper,h=this.graphics.gridLine||[],c=s.animateAxis,d=0,p=0,g=2;for(o=(t=n.get("config","animationObj")).animObj,i=t.dummyObj,n=t.transposeAnimDuration,r=t.animType,t={"stroke-dasharray":s.lineDashStyle,"stroke-width":s.lineThickness,stroke:s.lineColor};p<g;p+=1){if(0===p)a=s.gridLinePath,e=s.labelLineContainer;else if(a=s.gridLineHeaderPath,e=s.headerLineContainer,!a)continue;h[d]?(e=h[d].graphics,n&&c?e.animateWith(i,o,{path:a},n,r):e.attr({path:a}),e.attr(t)):((e=l.path(a,e)).attr(t),h[d]={},h[d].graphics=e),d+=1}for(p=d,g=h.length;p<g;p+=1)h[p].graphics.attr({path:"M0,0"});this.graphics.gridLine=h},_gridHoverHandler:function(){var t=this.data("data"),e=t.type,a=t.dimension,o=(r=(n=t.axis).chart).config,i=r.components.paper,r=(s=n.config).hoverElemsArr||[],s=s.ganttPlotHoverBandContainer,n=n.graphics.plotHoverElement||(n.graphics.plotHoverElement=[]);e="category"===e?{x:a.left,y:o.canvasTop,width:a.left<a.right?a.right-a.left:0,height:o.height,fill:t.rollOverColor,"stroke-width":0}:{y:a.top,x:o.canvasLeft,height:a.top<a.bottom?a.bottom-a.top:0,width:o.width,fill:t.rollOverColor,"stroke-width":0};if(t.usePlotHover&&(n[0]?n[0].attr(e).show():n[0]=i.rect(e,s)),t.useHover&&r[t.pos])for(e=0,a=r[t.pos].length;e<a;e+=1)r[t.pos][e].bgElem.attr({fill:t.rollOverColor})},_gridOutHandler:function(){var t,e,a=this.data("data"),o=(i=a.axis).config.hoverElemsArr||[],i=i.graphics.plotHoverElement||[];if(a.usePlotHover&&i[0]&&i[0].hide(),a.useHover&&o[a.pos])for(i=0,t=o[a.pos].length;i<t;i+=1)(e=o[a.pos][i]).bgElem.attr({fill:e.bgColor})},_disposeExtraProcessAndDataTableElement:function(t){var e,a=this.components.categoryElement||[];for(e=a.length;t<e;t+=1)a[t].graphics.label.attr({text:""}),a[t].graphics.rect.attr({x:0,y:0,width:0,heigth:0})}},"cartesian"]),L.get("component",["axis","time",{configure:function(){var t=this.config,e=t.rawAttr,a=(o=this.chart).jsonData.chart,o=o.components.colorManager;L.register("component",["axis","cartesian"]).prototype.configure.call(this),t.plotLineColor=t.lineColor=G(N(a.ganttlinecolor,o.getColor("gridColor")),Y(a.ganttlinealpha,100)),t.plotLineThickness=t.lineThickness=Y(a.ganttlinethickness,1),t.plotLineDashStyle=t.lineDashStyle=Y(a.ganttlinedashed,0)?f(Y(a.ganttlinedashlen,1),a.ganttlinedashgap,t.lineThickness):"none",t.hoverColor=N(a.categoryhoverbandcolor,a.hoverbandcolor,o.getColor("gridColor")),t.hoverAlpha=Y(a.categoryhoverbandalpha,a.hoverbandalpha,30),t.useHover=Y(a.showcategoryhoverband,a.showhoverband,a.showhovereffect,1),t.usePlotHover=Y(a.showganttpaneverticalhoverband),t.trendlinesDashLen=Y(e.trendlinesDashLen,3),t.trendlinesDashGap=Y(e.trendlinesDashGap,3),t.gridLineHeaderPath="",t.gridLinePath=""},setCategory:function(t){var e;e=this.chart.get("components").numberFormatter;var a,o,i,r,s=this.config,n=s.axisRange,l=s.startPad||0,h=s.endPad||0,c=1/0,d=-1/0;if(s.categories={},t){for(i in s.hasCategory=1,s=s.categories.category=p({},t),this._extractAttribToEnd(s,{}),s)if(s.hasOwnProperty(i)&&"_attrib"!==i)for(r=0,t=s[i].category.length;r<t;r+=1)a=s[i].category[r],o=e.getDateValue(a.start).ms,a=e.getDateValue(a.end).ms,isNaN(o)&&(o=void 0),d<o&&(d=o),o<=c&&(c=o),isNaN(a)&&(a=void 0),d<a&&(d=a),a<=c&&(c=a);e=d+h,n.min=Number(g(c-l,10)),n.max=Number(g(e,10)),n.tickInterval=Number(g(1,10))}else s.hasCategory=0},_drawComponents:function(){var t=this.config;this._drawCategories(),t.drawPlotlines&&this._drawPlotLine(),t.drawPlotBand&&this._drawPlotBand(),t.drawTrendLines&&this._drawTrendLine()},_drawCategories:function(){var t,e,a,o,i,r,s=this.config,n=(s.axisDimention||{}).y,l=s.totalHeight||0,h=this.chart,c=h.components,d=(u=h.config).viewPortConfig,p=c.paper,g=(c=c.numberFormatter,s.canvas),f=s.gridArr||(s.gridArr=[]),m=(f=g.canvasLeft||u.canvasLeft,g.canvasTop||u.canvasTop),v=g.canvasHeight||u.canvasHeight,b=g.canvasWidth||u.canvasWidth,u=s.lastTranslate||(s.lastTranslate={x:0,y:0}),x=h.graphics,C=x.axisBottomGroup;g=0;if(h=(a=h.get("config","animationObj")).animObj,o=a.dummyObj,i=a.transposeAnimDuration,a=a.animType,r=0<(r=at(l,m-(s.maxTopSpaceAvailable||0)))?r:0,x.ganttPlotHoverBandContainerParent=x.ganttPlotHoverBandContainerParent||p.group("gantt-plot-band-container-parent",C),s.ganttPlotHoverBandContainer?s.ganttPlotHoverBandContainer.animateWith(o,h,{"clip-rect":f+","+m+","+b+","+v},i,a):(s.ganttPlotHoverBandContainer=p.group("gantt-plot-band-container",x.ganttPlotHoverBandContainerParent),s.ganttPlotHoverBandContainer.attr({"clip-rect":f+","+m+","+b+","+v})),s.ganttPlotLineContainer?s.ganttPlotLineContainer.animateWith(o,h,{"clip-rect":f+","+m+","+b+","+v},i,a):(s.ganttPlotLineContainer=p.group("gantt-plot-line-container",C),s.ganttPlotLineContainer.attr({"clip-rect":f+","+m+","+b+","+v})),s.labelContainer?s.labelContainer.animateWith(o,h,{"clip-rect":f+","+(m-r)+","+b+","+r},i,a):(s.labelContainer=p.group("gantt-label-container",C),s.labelContainer.attr({"clip-rect":f+","+(m-r)+","+b+","+r})),s.labelBackContainer||(s.labelBackContainer=p.group("gantt-label-back-container",s.labelContainer)),s.labelLineContainer||(s.labelLineContainer=p.group("gantt-label-line-container",s.labelContainer)),s.labelTextContainer||(s.labelTextContainer=p.group("gantt-label-text-container",s.labelContainer)),s.gridLinePath="",s.gridLineHeaderPath="",s.hoverElemsArr=[],s.labelHoverEventName={click:"CategoryClick",rollOver:"CategoryRollOver",rollOut:"CategoryRollOut"},s.hasCategory){for(t in p=s.categories.category)if(p.hasOwnProperty(t)&&"_attrib"!==t)for(e in m=p[t].category,v=void 0,f=s.gridArr=[],m)b=c.getDateValue(m[e].start).ms,x=c.getDateValue(m[e].end).ms,!m.hasOwnProperty(e)||"_attrib"===e||isNaN(b)||isNaN(x)||(v=(b={elem:m[e],elemIndex:g,pos:g,dimension:{left:v||this.getPixel(b),right:this.getPixel(x),top:n-l+p[t]._attrib.topPos,bottom:n-l+p[t]._attrib.bottomPos},type:"category",isHeader:!1}).dimension.right,this._drawProcessAndDataTableElement(b),g+=1,f.push({x:b.dimension.left}));0<d.x?u.x=-d.x*d.scaleX:s.lastTranslate={x:0,y:0}}this._drawGridLine(),this._disposeExtraProcessAndDataTableElement(g)},placeAxis:function(t){var e,a,o,i,r,s,n,l=this.config,h=this.chart,c=h.config,d=h.get("components").numberFormatter,p=h.linkedItems.smartLabel,g=l.labels.style,f=0,m={top:0,bottom:0},v=0,b=l.trend.trendStyle,u=l.vTrendLines,x=l.useEllipsesWhenOverflow,C=0,w=0;if(p.useEllipsesOnOverflow(c.useEllipsesWhenOverflow),p.setStyle({fontSize:g.fontSize,fontFamily:g.fontFamily,lineHeight:g.lineHeight,fontWeight:g.fontWeight}),l.maxTopSpaceAvailable=c.canvasTop,l.hasCategory)for(o in e=l.categories.category)if(e.hasOwnProperty(o)&&"_attrib"!==o){for(r in f=0,a=e[o].category)a.hasOwnProperty(r)&&"_attrib"!==r&&((i=a[r]).drawLabel=X(i.label||i.name),s=i._attrib,s={fontFamily:N(s.fontfamily,g.fontFamily).replace(/px/i,"")+"px",fontSize:N(s.fontsize,g.fontSize),fontWeight:N(1===Number(s.isbold)?"bold":void 0===s.isbold?"bold":void 0,g.fontWeight),fontStyle:N(s.isitalic?"italic":void 0,g.fontStyle)},K(s),p.setStyle(s),(i=p.getOriSize(i.drawLabel)).height>f&&(f=(n=i).height));e[o]._attrib.topPos=v,v+=n.height+8,e[o]._attrib.bottomPos=v}if(a=t-v,l.drawTrendLines&&l.drawTrendLabels&&u&&l.isActive)for(p.setStyle({fontSize:b.fontSize,fontFamily:b.fontFamily,lineHeight:b.lineHeight,fontWeight:b.fontWeight}),l.trendBottomPadding=-1,r=0,g=u.length;r<g;r+=1)for(o=0,f=u[r].line.length;o<f;o+=1)i=(e=u[r].line[o]).origText||e.displayvalue||e.endvalue||e.startvalue||"",i=X(i),e.startvalue=e.start&&d.getDateValue(e.start).ms,e.endvalue=e.end&&d.getDateValue(e.end).ms,e.origText=i,a-(n=(i=p.getSmartText(i,h.canvasWidth,b.lineHeight,x)).height+2)<0?e.displayvalue="":(e.displayvalue=i.text,C=C<i.height?i.height:C),i.tooltext?e.valueToolText=i.tooltext:delete e.valueToolText;return l.totalHeight=v,0<C&&(w+=C+ot(l.trendBottomPadding||0)),v=t<v?t:v,m.top+=v,m.bottom+=w,c.categorySpaceUsed=v,m}},"ganttCommon"]),L.get("component",["axis","process",{configure:function(){var t=this.config,e=(a=this.chart).jsonData.chart,a=a.components.colorManager;L.register("component",["axis","cartesian"]).prototype.configure.call(this),t.lineColor=G(N(e.gridbordercolor,a.getColor("gridColor")),Y(e.gridborderalpha,100)),t.lineThickness=Y(e.gridborderthickness,1),t.lineDashStyle=Y(e.gridborderdashed,0)?f(Y(e.gridborderdashlen,1),e.gridborderdashgap,t.lineThickness):"none",t.plotLineColor=G(N(e.ganttlinecolor,a.getColor("gridColor")),Y(e.ganttlinealpha,100)),t.plotLineThickness=Y(e.ganttlinethickness,1),t.plotLineDashStyle=Y(e.ganttlinedashed,0)?f(Y(e.ganttlinedashlen,1),e.ganttlinedashgap,t.lineThickness):"none",t.gridResizeBarColor=G(N(e.gridresizebarcolor,a.getColor("gridResizeBarColor")),Y(e.gridresizebaralpha,100)),t.gridResizeBarThickness=Y(e.gridresizebarthickness,1),t.forceRowHeight=Y(e.forcerowheight,0),t.rowHeight=Y(e.rowheight,0),t.hoverColor=N(e.processhoverbandcolor,e.hoverbandcolor,a.getColor("gridColor")),t.hoverAlpha=Y(e.processhoverbandalpha,e.hoverbandalpha,30),t.useHover=Y(e.showprocesshoverband,e.showhoverband,e.showhovereffect,1),t.usePlotHover=Y(e.showganttpanehorizontalhoverband),t.showFullDataTable=Y(e.showfulldatatable,1),t.useVerticalScrolling=Y(e.useverticalscrolling,1),t.gridLineHeaderPath="",t.gridLinePath=""},setDataTable:function(t){var e=this.config;e.dataTables={},e.dataTables.dataTable={},t?(e.hasDataTables=1,p(e.dataTables.dataTable,t),t=e.dataTables.dataTable,this._extractAttribToEnd(t,{})):e.hasDataTables=0},setProcess:function(t){var e,a,o,i,r=this.config,s=r.axisRange,n=r.startPad||0;if(e=r.endPad||0,r.processes={},t){for(r.hasProcess=1,a=r.processes.process=p({},t),this._extractAttribToEnd(a,{}),t=a.process.length,i=r.processes.processMap={},r.processes.processHeightMap={},r=0;r<t;r+=1)(o=a.process[r]).id&&(i[o.id.toLowerCase()]={catObj:o,index:r});e=t-1+e,s.min=Number(g(-n,10)),s.max=Number(g(e,10)),s.tickInterval=Number(g(1,10))}else r.hasProcess=0},getProcessPositionById:function(t){var e=this.config;return t=e.processes&&e.processes.processMap[t],e=e.processes.processHeightMap,!!t&&e[t.index]},getProcessPositionByIndex:function(t){var e=this.config.processes.processHeightMap;return!!e[t]&&e[t]},setProcessHeight:function(){var t=this.config,e=this.chart.config.canvasHeight,a=t.processes.process.process,o=t.processes.processHeightMap,i=t.processMaxHeight,r=0,s=t.forceRowHeight,n=t.rowHeight;for((i*a.length<e||0===t.useVerticalScrolling)&&(i=e/a.length),0===s?n&&i<n&&(i=n):i=n||i,s=0,e=a.length;s<e;s++)t=Y(a[s].height,i),o[s]={top:r,bottom:r+t,height:t},r+=t;return r},_drawComponents:function(){var t=this.config;this._drawProcessAndDataTable(),t.drawPlotlines&&this._drawPlotLine(),t.drawPlotBand&&this._drawPlotBand(),this._drawVerticalLineAndTracker(),this._drawGridLine()},_drawProcessAndDataTable:function(){var t,e,a,o,i,r=this.config,s=this.chart,n=(r.axisDimention||{}).x,l=r.totalWidth||0,h=r.gridArr||(r.gridArr=[]),c=r.canvas,d=s.config,p=(h=s.components.paper,c.canvasTop||d.canvasTop),g=c.canvasLeft||d.canvasLeft,f=c.canvasHeight||d.canvasHeight,m=c.canvasWidth||d.canvasWidth,v=s.graphics,b=v.axisBottomGroup,u=(c=r.totalVisiblelWidth,0);if(s=(a=s.get("config","animationObj")).animObj,o=a.dummyObj,i=a.transposeAnimDuration,a=a.animType,v.ganttPlotHoverBandContainerParent=v.ganttPlotHoverBandContainerParent||h.group("gantt-plot-band-container-parent",b),r.ganttPlotHoverBandContainer?r.ganttPlotHoverBandContainer.animateWith(o,s,{"clip-rect":g+","+p+","+m+","+f},i,a):(r.ganttPlotHoverBandContainer=h.group("gantt-plot-band-container",v.ganttPlotHoverBandContainerParent),r.ganttPlotHoverBandContainer.attr({"clip-rect":g+","+p+","+m+","+f})),r.ganttPlotLineContainer?r.ganttPlotLineContainer.animateWith(o,s,{"clip-rect":g+","+p+","+m+","+f},i,a):(r.ganttPlotLineContainer=h.group("gantt-plot-line-container",b),r.ganttPlotLineContainer.attr({"clip-rect":g+","+p+","+m+","+f})),r.headerContainer?r.headerContainer.animateWith(o,s,{"clip-rect":g-r.totalVisiblelWidth+","+(p-d.categorySpaceUsed)+","+r.totalVisiblelWidth+","+d.categorySpaceUsed},i,a):(r.headerContainer=h.group("gantt-header-container",b),r.headerContainer.attr({"clip-rect":g-r.totalVisiblelWidth+","+(p-d.categorySpaceUsed)+","+r.totalVisiblelWidth+","+d.categorySpaceUsed})),r.headerBackContainer||(r.headerBackContainer=h.group("gantt-header-back-container",r.headerContainer)),r.headerLineContainer||(r.headerLineContainer=h.group("gantt-header-line-container",r.headerContainer)),r.headerTextContainer||(r.headerTextContainer=h.group("gantt-header-text-container",r.headerContainer)),r.labelContainer?r.labelContainer.animateWith(o,s,{"clip-rect":g-r.totalVisiblelWidth+","+p+","+r.totalVisiblelWidth+","+f},i,a):(r.labelContainer=h.group("gantt-label-container",b),r.labelContainer.attr({"clip-rect":g-r.totalVisiblelWidth+","+p+","+r.totalVisiblelWidth+","+f})),r.labelBackContainer||(r.labelBackContainer=h.group("gantt-label-back-container",r.labelContainer)),r.labelLineContainer||(r.labelLineContainer=h.group("gantt-label-line-container",r.labelContainer)),r.labelTextContainer||(r.labelTextContainer=h.group("gantt-label-text-container",r.labelContainer)),r.hotContainer?r.hotContainer.animateWith(o,s,{"clip-rect":g-r.totalVisiblelWidth+","+(p-d.categorySpaceUsed)+","+r.totalVisiblelWidth+","+(f+d.categorySpaceUsed)},i,a):(r.hotContainer=h.group("gantt-hot-container",r.axisLabelGroup),r.hotContainer.attr({"clip-rect":g-r.totalVisiblelWidth+","+(p-d.categorySpaceUsed)+","+r.totalVisiblelWidth+","+(f+d.categorySpaceUsed)})),r.gridLinePath="",r.gridLineHeaderPath="",r.hoverElemsArr=[],r.labelHoverEventName={click:"ProcessClick",rollOver:"ProcessRollOver",rollOut:"ProcessRollOut"},r.hasProcess)for(process=r.processes.process.process,g={elem:r.processes.process,elemIndex:u,dimension:{left:n-l+process._attrib.leftPos,right:n-l+process._attrib.rightPos,top:p-d.categorySpaceUsed,bottom:p},type:"header"},this._drawProcessAndDataTableElement(g),u+=1,h=r.gridArr=[],t=0,f=process.length;t<f;t++)g=this.getProcessPositionByIndex(t),g={elem:process[t],elemIndex:u,pos:t,dimension:{left:n-l+process._attrib.leftPos,right:n-l+process._attrib.rightPos,top:p+g.top,bottom:p+g.bottom},type:"process"},this._drawProcessAndDataTableElement(g),u+=1,h.push({y:g.dimension.bottom});if(r.hasDataTables){for(t in h=r.dataTables.dataTable.datacolumn)if(h.hasOwnProperty(t)&&"_attrib"!==t)for(e in g={elem:h[t],elemIndex:u,pos:t,dimension:{left:n-l+h[t]._attrib.leftPos,right:n-l+h[t]._attrib.rightPos,top:p-d.categorySpaceUsed,bottom:p},type:"header"},this._drawProcessAndDataTableElement(g),u+=1,f=h[t].text)f[e]._attrib&&process[e]&&process[e]._attrib&&(f[e]._attrib.hoverbandcolor=process[e]._attrib.hoverbandcolor,f[e]._attrib.hoverbandalpha=process[e]._attrib.hoverbandalpha,f[e]._attrib.showhoverband=process[e]._attrib.showhoverband),f.hasOwnProperty(e)&&"_attrib"!==e&&(g=this.getProcessPositionByIndex(e),g={elem:f[e],elemIndex:u,pos:e,dimension:{left:n-l+h[t]._attrib.leftPos,right:n-l+h[t]._attrib.rightPos,top:p+g.top,bottom:p+g.bottom},type:"datatable"},this._drawProcessAndDataTableElement(g),u+=1);r.drawFromProcessVlineDrag?r.drawFromProcessVlineDrag=!1:c<l?this.translateAxis(l-c,void 0):(this.resetTransletAxis(),this.resetTransletAxis())}this._drawGridLine(),this._disposeExtraProcessAndDataTableElement(u)},_drawVerticalLineAndTracker:function(){var t,e,a,o,i,r,s,n=this,l=n.config,h=n.chart,c=h.config,d=(l.axisDimention||{}).x,p=l.totalWidth||0,g=l.canvas.canvasTop||c.canvasTop,f=h.components.paper,m=n.components.processVline||(n.components.processVline=[]),v=l.processVlineArr,b=l.hotContainer,u=0,x=function(){var t=this.data("drag-options"),e=t.vHoverLine;t.origX=t.lastX||(t.lastX=0),e.show(),h.trackerClicked=!0,t.draged=!1},C=function(t){var e=this.data("drag-options"),a=e.vHoverLine,o=e.vLineSetting,i=o.xPos+t,r=o.leftLimit,s=o.rightLimit;i<r&&(t=r-o.xPos),s<i&&(t=s-o.xPos),o={transform:"t"+(e.origX+t)+y+0},this.attr(o),a.attr(o),e.draged=!0,e.lastX=t},w=function(){var t=this.data("drag-options"),e=t.vLineSetting,a=t.vHoverLine,o=t.vLineIndex;h.trackerClicked=!1,a.hide(),t.draged&&(e.left.rightPos+=t.lastX||0,e.right.leftPos+=t.lastX||0,e.xPos+=t.lastX||0,v[o-1]&&(v[o-1].rightLimit+=t.lastX||0),v[o+1]&&(v[o+1].leftLimit+=t.lastX||0),l.drawFromProcessVlineDrag=!0,n._drawProcessAndDataTable(),n._drawVerticalLineAndTracker(),t={transform:"t0,0"},this.attr(t),a.attr(t))};for(i={stroke:l.gridResizeBarColor,"stroke-width":l.gridResizeBarThickness,visibility:"hidden"},r={stroke:tt,ishot:!0,"stroke-width":30},o=g-c.categorySpaceUsed,c=0,t=v.length;c<t;c+=1)e=["M",e=d-p+(e="process"===v[c].type?l.processes.process.process:l.dataTables.dataTable.datacolumn[v[c].ind])._attrib.rightPos,o,"L",e,g+l.processTotalHeight],m[u]?((s=m[u].graphics.vHoverLine).attr({path:e}).attr(i),(a=m[u].graphics.hotElement).attr({path:e}).attr(r)):((s=f.path(e,b)).attr(i),(a=f.path(e,b)).attr(r),m[u]={},m[u].graphics={},m[u].config={},m[u].graphics.vHoverLine=s,m[u].graphics.hotElement=a),a.css("cursor",$.svg?"ew-resize":"e-resize").drag(C,x,w).data("drag-options",{vHoverLine:m[u].graphics.vHoverLine,vLineSetting:v[c],vLineIndex:c}),u+=1;for(c=u,t=m.length;c<t;c+=1)m[c].graphics.vHoverLine.attr({path:["M",0,0]}),m[c].graphics.hotElement.attr({path:["M",0,0]})},manageProcessScroll:function(t){var e,a=(e=this.config).totalWidth||0;(e=e.totalVisiblelWidth)<a&&this.translateAxis((a-e)*(1-t),void 0)},placeAxis:function(t){var e,a,o,i,r,s=this.config,n=this.chart,l=n.linkedItems.smartLabel,h=s.labels.style,c=0,d=0,p={left:0,right:0},g=0,f=!1,m=0,v=0,b=0;if(l.useEllipsesOnOverflow(n.config.useEllipsesWhenOverflow),l.setStyle({fontSize:h.fontSize,fontFamily:h.fontFamily,lineHeight:h.lineHeight,fontWeight:h.fontWeight}),0===s.showFullDataTable&&(b=t/((s.hasDataTables&&s.dataTables&&s.dataTables.dataTable&&s.dataTables.dataTable.datacolumn?s.dataTables.dataTable.datacolumn.length:0)+1)),s.hasProcess){for(process=s.processes.process.process,"right"===(e=s.processes.process).positioningrid&&(f=!0),e.headertext&&(e.drawLabel=X(e.headertext),n=e._attrib,(n={fontFamily:N(n.headerfontfamily,h.fontFamily),fontSize:N(n.headerfontsize,h.fontSize).replace(/px/i,"")+"px",fontWeight:N(1===Number(n.headerisbold)?"bold":void 0===n.headerisbold?"bold":void 0,h.fontWeight),fontStyle:N(n.headerisitalic?"italic":void 0,h.fontStyle)}).lineHeight=K(n),l.setStyle(n),(n=l.getOriSize(e.drawLabel)).width>d&&(d=(c=n).width)),e=0,a=process.length;e<a;e++)n=(o=process[e])._attrib,o.drawLabel=X(o.label||o.name),(n={fontFamily:N(n.fontfamily,h.fontFamily),fontSize:N(n.fontsize,h.fontSize).replace(/px/i,"")+"px",fontWeight:N(n.isbold?"bold":void 0,h.fontWeight),fontStyle:N(n.isitalic?"italic":void 0,h.fontStyle)}).lineHeight=K(n),l.setStyle(n),(n=l.getOriSize(o.drawLabel)).width>d&&(d=(c=n).width),n.height>v&&(v=n.height);s.processMaxHeight=v+8,process._attrib.leftPos=g,f?m=b||c.width+4:g+=b||c.width+4,process._attrib.rightPos=g}if(s.hasDataTables)for(e in c=s.dataTables.dataTable.datacolumn)if(c.hasOwnProperty(e)&&"_attrib"!==e){for(i in d=0,(v=c[e]).headertext&&(n=v._attrib,v.drawLabel=X(v.headertext),(a={fontFamily:N(n.headerfontfamily,h.fontFamily),fontSize:N(n.headerfontsize,h.fontSize).replace(/px/i,"")+"px",fontWeight:N(1===Number(n.headerisbold)?"bold":void 0===n.headerisbold?"bold":void 0,h.fontWeight),fontStyle:N(n.headerisitalic?"italic":void 0,h.fontStyle)}).lineHeight=K(a),l.setStyle(a),(n=l.getOriSize(v.drawLabel)).width>d&&(d=(r=n).width)),v=v.text)v.hasOwnProperty(i)&&"_attrib"!==i&&((n=v[i]).drawLabel=X(n.label||n.name),a=n._attrib,(a={fontFamily:N(a.fontfamily,h.fontFamily),fontSize:N(a.fontsize,h.fontSize).replace(/px/i,"")+"px",fontWeight:N(a.isbold?"bold":void 0,h.fontWeight),fontStyle:N(a.isitalic?"italic":void 0,h.fontStyle)}).lineHeight=K(a),l.setStyle(a),(n=l.getOriSize(n.drawLabel)).width>d&&(d=(r=n).width));c[e]._attrib.leftPos=g,g+=b||r.width+4,c[e]._attrib.rightPos=g}return s.hasProcess&&f&&(process._attrib.leftPos+=g,process._attrib.rightPos+=g+m,g+=m),s.totalWidth=g,this.adjustWidth(),g=s.totalWidth>t?t:s.totalWidth,s.totalVisiblelWidth=g,p.left+=g,p},adjustWidth:function(){var t,e,a,o,i,r,s=this.config,n=s.totalWidth,l=n,h=0,c=!1;if(t=s.processVlineArr=[],l-=20*(s.hasDataTables&&s.dataTables&&s.dataTables.dataTable&&s.dataTables.dataTable.datacolumn?s.dataTables.dataTable.datacolumn.length+1:1),a=function(t){return l+=20,t=t.match(/%/g)?Y(n*Number(t.replace(/%/g,"")/100),0):Y(t,0),l<20?t=20:l<t&&(t=l),l-=t,t},s.hasProcess&&(process=s.processes.process.process,"right"===(o=s.processes.process).positioningrid&&(c=!0),i=h,h+=a((e=process._attrib).width||""+(e.rightPos-e.leftPos)),e.leftPos=i,e.rightPos=h,c?h=0:t.push({type:"process",ind:0,xPos:e.rightPos,left:e,leftLimit:e.leftPos+20})),s.hasDataTables)for(r in o=s.dataTables.dataTable.datacolumn)o.hasOwnProperty(r)&&"_attrib"!==r&&(i=h,h+=a((e=(e=o[r])._attrib).width||""+(e.rightPos-e.leftPos)),e.leftPos=i,e.rightPos=h,(i=t[t.length-1])&&(i.right=e,i.rightLimit=e.rightPos-20),t.push({type:"dataTable",ind:r,xPos:e.rightPos,left:e,leftLimit:e.leftPos+20}));s.hasProcess&&(c?((e=process._attrib).rightPos=h+(e.rightPos-e.leftPos),e.leftPos=h,h+=e.rightPos-e.leftPos,(i=t[t.length-1])&&(i.right=e,i.rightLimit=e.rightPos-20)):t.pop()),s.totalWidth=h}},"ganttCommon"])}])});