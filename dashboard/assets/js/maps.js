var map,marker=!1;function initMap(){var e={center:new google.maps.LatLng(52.357971,-6.516758),zoom:7};map=new google.maps.Map(document.getElementById("map"),e),google.maps.event.addListener(map,"click",function(e){var a=e.latLng;!1===marker?(marker=new google.maps.Marker({position:a,map:map,draggable:!0}),google.maps.event.addListener(marker,"dragend",function(e){markerLocation()})):marker.setPosition(a),markerLocation()})}function markerLocation(){var e=marker.getPosition();document.getElementById("lat").value=e.lat(),document.getElementById("lng").value=e.lng()}google.maps.event.addDomListener(window,"load",initMap);